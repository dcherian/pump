

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>TIW Cruise Sections &#8212; PUMP</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'ctd-adcp';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="TIW Compositing" href="TIW-compositing.html" />
    <link rel="prev" title="TIW DCL Paper Figures" href="dcl-paper.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    <p class="title logo__title">PUMP</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="pump-catalog.html">PUMP catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="catalog-viewer.html">Display interactive catalog</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">miχpods</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="mixpods-new-baseline.html">miχPODS: New baseline</a></li>
<li class="toctree-l1"><a class="reference internal" href="mixpods.html">miχpods</a></li>
<li class="toctree-l1"><a class="reference internal" href="mixpods-tao.html">miχpods - TAO</a></li>
<li class="toctree-l1"><a class="reference internal" href="mixpods-les.html">miχpods for LES simulations</a></li>

<li class="toctree-l1"><a class="reference internal" href="mixpods-mom6.html">miχpods: MOM6 dev</a></li>
<li class="toctree-l1"><a class="reference internal" href="mixpods-diag-table.html">Diag table generation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">TIW Turbulence</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="TIW-DCL.html">TIW DCL</a></li>
<li class="toctree-l1"><a class="reference internal" href="dcl-paper.html">TIW DCL Paper Figures</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">TIW Cruise Sections</a></li>
<li class="toctree-l1"><a class="reference internal" href="TIW-compositing.html">TIW Compositing</a></li>
<li class="toctree-l1"><a class="reference internal" href="vertical-velocity.html">TIW vertical velocity in MITgcm simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="tiw-floats.html">EM-APEX floats in TIWs</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Marginal Stability</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="bulk-Ri.html">Bulk Ri analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="MI-extent.html">Extent of marginal stability</a></li>
<li class="toctree-l1"><a class="reference internal" href="tao-ri-analysis.html">TAO Ri analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="mi-simple-model.html">Simple model analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="shred2-evol.html">Reduced Shear Evolution equation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">χpod/Chameleon</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="equix-divergence.html">EQUIX: Jq divergence</a></li>
<li class="toctree-l1"><a class="reference internal" href="equix-examine.html">Chameleon heat flux χ vs ε</a></li>
<li class="toctree-l1"><a class="reference internal" href="mixing-efficiency.html">Variations in <span class="math notranslate nohighlight">\(Ri_f\)</span>, <span class="math notranslate nohighlight">\(Γ\)</span></a></li>





<li class="toctree-l1"><a class="reference internal" href="below-euc.html">Mixing below EUC</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Other</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="les-examine.html">LES first look</a></li>
<li class="toctree-l1"><a class="reference internal" href="long-term-turbulence.html">Long-term tubulence in 20-year simulation</a></li>

<li class="toctree-l1"><a class="reference internal" href="les-tendencies.html">LES tendencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="heat-momentum-budget-checks.html">Heat and momentum budgets with MITgcm output</a></li>
<li class="toctree-l1"><a class="reference internal" href="submeso-deep-100.html">Deep submesoscales in 1/100°?</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/dcherian/pump" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/ctd-adcp.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>TIW Cruise Sections</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#todo">TODO</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#read-all-data">Read all data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ctd">CTD</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mld-computation">MLD computation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adcp">ADCP</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#processing">processing</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-plot-for-section">summary plot for section</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ladcp-test">LADCP test</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#save-section-images">Save section images</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tiw-dcl-paper-figure">TIW DCL Paper figure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#osm20-figure">OSM20 figure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#debug-particular-sections">debug particular sections</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#clivar-p18-2007">CLIVAR P18 2007</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#discoverer-ep391">Discoverer EP391</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#test-plots">test plots</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="tiw-cruise-sections">
<h1>TIW Cruise Sections<a class="headerlink" href="#tiw-cruise-sections" title="Permalink to this heading">#</a></h1>
<section id="todo">
<h2>TODO<a class="headerlink" href="#todo" title="Permalink to this heading">#</a></h2>
<p>CTD at 1m resolution</p>
<p>ADCP in 8m/10m bins</p>
<ul class="contains-task-list simple">
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Need to figure the times when the CTD was taken</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Detect MLD from 1m density profile and mask that out</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> plot profiles next to SST</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> make sure I’m using the right ADCP profile or average while the ship was stationary</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> Use PCHIP derivative?</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> download MUR snapshots</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> get high res data</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> do reduced shear? works nicely with proper norm</p></li>
</ul>
<p>Improvements:</p>
<ul class="contains-task-list simple">
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> -110W assumption in cruise reading file</p></li>
</ul>
<p>Look at CCHDO CTD sections and plot over OISST to see if some of these sections can be used to estimate Ri during a TIW in 2N-5N range</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pump</span>
<span class="kn">import</span> <span class="nn">dcpy</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">tqdm</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">distributed</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">distributed</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">cluster</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "057d5707ec04424b86849d55872db1da", "version_major": 2, "version_minor": 0}</script></div>
</div>
</section>
<section id="read-all-data">
<h2>Read all data<a class="headerlink" href="#read-all-data" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">ls</span> ../datasets/ctd
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Cyan">0_pr16_n_nc_ctd</span>/       <span class=" -Color -Color-Cyan">21_pr16_q_nc_ctd</span>/         <span class=" -Color -Color-Cyan">33_pr16_cc_nc_ctd</span>/
<span class=" -Color -Color-Cyan">10_pr16_ee_nc_ctd</span>/     <span class=" -Color -Color-Cyan">22_pr16_2003a_nc_ctd</span>/     <span class=" -Color -Color-Cyan">34_pr16_2005a_nc_ctd</span>/
<span class=" -Color -Color-Cyan">11_pr16_s_nc_ctd</span>/      <span class=" -Color -Color-Cyan">23_pr16_w_nc_ctd</span>/         <span class=" -Color -Color-Cyan">35_pr16_y_nc_ctd</span>/
<span class=" -Color -Color-Cyan">12_pr16_a_nc_ctd</span>/      <span class=" -Color -Color-Cyan">24_pr16_20060330_nc_ctd</span>/  <span class=" -Color -Color-Cyan">3_pr16_ff_nc_ctd</span>/
<span class=" -Color -Color-Cyan">13_pr16_2004b_nc_ctd</span>/  <span class=" -Color -Color-Cyan">25_pr16_l_nc_ctd</span>/         <span class=" -Color -Color-Cyan">4_pr16_aa_nc_ctd</span>/
<span class=" -Color -Color-Cyan">14_pr16_b_nc_ctd</span>/      <span class=" -Color -Color-Cyan">26_pr16_o_nc_ctd</span>/         <span class=" -Color -Color-Cyan">5_pr16_m_nc_ctd</span>/
<span class=" -Color -Color-Cyan">15_pr16_k_nc_ctd</span>/      <span class=" -Color -Color-Cyan">27_pr16_u_nc_ctd</span>/         <span class=" -Color -Color-Cyan">6_pr16_2004a_nc_ctd</span>/
<span class=" -Color -Color-Cyan">16_pr16_dd_nc_ctd</span>/     <span class=" -Color -Color-Cyan">28_pr16_h_nc_ctd</span>/         <span class=" -Color -Color-Cyan">7_pr16_2003b_nc_ctd</span>/
<span class=" -Color -Color-Cyan">17_pr16_p_nc_ctd</span>/      <span class=" -Color -Color-Cyan">29_pr16_c_nc_ctd</span>/         <span class=" -Color -Color-Cyan">8_pr16_g_nc_ctd</span>/
<span class=" -Color -Color-Cyan">18_pr16_e_nc_ctd</span>/      <span class=" -Color -Color-Cyan">2_pr16_v_nc_ctd</span>/          <span class=" -Color -Color-Cyan">9_pr16_z_nc_ctd</span>/
<span class=" -Color -Color-Cyan">19_pr16_r_nc_ctd</span>/      <span class=" -Color -Color-Cyan">30_pr15_2005b_nc_ctd</span>/     <span class=" -Color -Color-Cyan">p18_33RO20071215_ctd</span>/
<span class=" -Color -Color-Cyan">1_pr16_0a_nc_ctd</span>/      <span class=" -Color -Color-Cyan">31_pr16_t_nc_ctd</span>/         <span class=" -Color -Color-Cyan">p18_33RO20161119_ctd</span>/
<span class=" -Color -Color-Cyan">20_pr16_bb_nc_ctd</span>/     <span class=" -Color -Color-Cyan">32_pr16_f_nc_ctd</span>/         <span class=" -Color -Color-Cyan">zips</span>/
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">glob</span>

<span class="n">dirname</span> <span class="o">=</span> <span class="s2">&quot;../datasets/ctd/*ctd&quot;</span>
<span class="n">cruises</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">read_cruise_folders</span><span class="p">(</span><span class="n">dirname</span><span class="p">)</span>

<span class="n">oisst</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span>
    <span class="s2">&quot;../glade/obs/oisst/*.nc&quot;</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="s2">&quot;nested&quot;</span><span class="p">,</span> <span class="n">concat_dim</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="n">parallel</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="n">oisst</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">oisst</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">lon</span><span class="o">=</span><span class="n">oisst</span><span class="o">.</span><span class="n">lon</span> <span class="o">-</span> <span class="mi">360</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">lon</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">155</span><span class="p">,</span> <span class="o">-</span><span class="mi">90</span><span class="p">))</span><span class="o">.</span><span class="n">sst</span>
<span class="p">)</span>

<span class="n">adcp_files</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;../datasets/adcp/*.nc&quot;</span><span class="p">))</span>
<span class="n">adcp_files</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>100%|██████████| 38/38 [01:24&lt;00:00,  2.24s/it]
</pre></div>
</div>
</div>
</div>
</section>
<section id="ctd">
<h2>CTD<a class="headerlink" href="#ctd" title="Permalink to this heading">#</a></h2>
<section id="mld-computation">
<h3>MLD computation<a class="headerlink" href="#mld-computation" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cruises</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">density</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><pre>&lt;xarray.DataArray &#x27;density&#x27; (latitude: 13, pressure: 2008)&gt;
array([[          nan, 1021.61466996, 1021.61580471, ..., 1027.67752305,
        1027.67758485, 1027.67800753],
       [          nan, 1021.48973679, 1021.49817825, ...,           nan,
                  nan,           nan],
       [          nan, 1021.77406458, 1021.774826  , ...,           nan,
                  nan,           nan],
       ...,
       [          nan,           nan, 1022.28975995, ...,           nan,
                  nan,           nan],
       [1022.22953715, 1022.22816024, 1022.22996723, ...,           nan,
                  nan,           nan],
       [          nan, 1022.39740448, 1022.39668462, ...,           nan,
                  nan,           nan]])
Coordinates:
    longitude  int64 -110
  * pressure   (pressure) float64 3.0 4.0 5.0 ... 2.008e+03 2.009e+03 2.01e+03
    time       (latitude) datetime64[ns] 1991-04-03T12:48:00 ... 1991-04-08T03:48:00
  * latitude   (latitude) float64 4.966 5.041 4.007 ... -2.997 -3.994 -4.953</pre></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rho</span> <span class="o">=</span> <span class="n">cruises</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">density</span>
<span class="n">drho</span> <span class="o">=</span> <span class="n">rho</span> <span class="o">-</span> <span class="n">rho</span><span class="o">.</span><span class="n">bfill</span><span class="p">(</span><span class="s2">&quot;pressure&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">mld</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">drho</span> <span class="o">&gt;</span> <span class="mf">0.015</span><span class="p">,</span> <span class="n">drho</span><span class="o">.</span><span class="n">pressure</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="s2">&quot;pressure&quot;</span><span class="p">)</span>

<span class="n">drho</span><span class="o">.</span><span class="n">sortby</span><span class="p">(</span><span class="s2">&quot;latitude&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;latitude&quot;</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="n">mld</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;latitude&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x2adf759cf950&gt;]
</pre></div>
</div>
<img alt="_images/4e228e01d5d5ce2b1116ade79619c0eb848ff8f04d0489e317c4ad30743db353.png" src="_images/4e228e01d5d5ce2b1116ade79619c0eb848ff8f04d0489e317c4ad30743db353.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline

<span class="n">drho</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;pressure&quot;</span><span class="p">,</span> <span class="n">yincrease</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x2adf746febd0&gt;]
</pre></div>
</div>
<img alt="_images/d5bd4710ff04d3df8ec7aa0b46248ad5c5eb25291f747d0328b4d4080029c297.png" src="_images/d5bd4710ff04d3df8ec7aa0b46248ad5c5eb25291f747d0328b4d4080029c297.png" />
</div>
</div>
</section>
</section>
<section id="adcp">
<h2>ADCP<a class="headerlink" href="#adcp" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ctd</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">find_cruise</span><span class="p">(</span><span class="n">cruises</span><span class="p">,</span> <span class="s2">&quot;31DSEP393&quot;</span><span class="p">)</span>
<span class="c1"># ctd[&quot;latitude&quot;] = np.round(ctd.latitude, 1)</span>
<span class="n">ctd</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Found 31DSEP393 at index 24.
</pre></div>
</div>
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<title>Show/Hide data repr</title>
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<title>Show/Hide attributes</title>
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

.xr-wrap {
  min-width: 300px;
  max-width: 700px;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt, dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><div class='xr-wrap'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-0fce0eb3-eb6f-4622-b123-9b1cd1168481' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-0fce0eb3-eb6f-4622-b123-9b1cd1168481' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>latitude</span>: 22</li><li><span class='xr-has-index'>pressure</span>: 1008</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-d03f17c8-624e-466b-ad60-563a72a76098' class='xr-section-summary-in' type='checkbox'  checked><label for='section-d03f17c8-624e-466b-ad60-563a72a76098' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>longitude</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>-110</div><input id='attrs-e7bf1bed-1c99-489e-8429-aa95626d652e' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-e7bf1bed-1c99-489e-8429-aa95626d652e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-623abd28-1adc-42a3-ad87-a25304ed9a1b' class='xr-var-data-in' type='checkbox'><label for='data-623abd28-1adc-42a3-ad87-a25304ed9a1b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><pre class='xr-var-data'>array(-110)</pre></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>pressure</span></div><div class='xr-var-dims'>(pressure)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>3.0 4.0 5.0 ... 1.009e+03 1.01e+03</div><input id='attrs-cbcc1a25-770e-4318-89f4-f74b4bb5974f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-cbcc1a25-770e-4318-89f4-f74b4bb5974f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-573ba0ba-7c41-4991-bab4-211cfbc4e87a' class='xr-var-data-in' type='checkbox'><label for='data-573ba0ba-7c41-4991-bab4-211cfbc4e87a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>pressure</dd><dt><span>units :</span></dt><dd>dbar</dd><dt><span>positive :</span></dt><dd>down</dd><dt><span>data_min :</span></dt><dd>5.0</dd><dt><span>data_max :</span></dt><dd>1004.0</dd><dt><span>C_format :</span></dt><dd>%8.1f</dd><dt><span>WHPO_Variable_Name :</span></dt><dd>CTDPRS</dd><dt><span>OBS_QC_VARIABLE :</span></dt><dd>pressure_QC</dd></dl></div><pre class='xr-var-data'>array([   3.,    4.,    5., ..., 1008., 1009., 1010.])</pre></li><li class='xr-var-item'><div class='xr-var-name'><span>time</span></div><div class='xr-var-dims'>(latitude)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1993-09-07T01:31:00 ... 1993-09-14T10:09:00</div><input id='attrs-6e1ae0b9-a6a0-4caf-b683-08252920a4a1' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-6e1ae0b9-a6a0-4caf-b683-08252920a4a1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-945f22e3-bdce-4117-8566-8a30f405ac15' class='xr-var-data-in' type='checkbox'><label for='data-945f22e3-bdce-4117-8566-8a30f405ac15' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>time</dd><dt><span>C_format :</span></dt><dd>%10d</dd></dl></div><pre class='xr-var-data'>array([&#x27;1993-09-07T01:31:00.000000000&#x27;, &#x27;1993-09-07T07:18:00.000000000&#x27;,
       &#x27;1993-09-07T12:51:00.000000000&#x27;, &#x27;1993-09-07T18:11:00.000000000&#x27;,
       &#x27;1993-09-08T00:55:00.000000000&#x27;, &#x27;1993-09-08T06:15:00.000000000&#x27;,
       &#x27;1993-09-09T02:40:00.000000000&#x27;, &#x27;1993-09-09T08:29:00.000000000&#x27;,
       &#x27;1993-09-10T03:27:00.000000000&#x27;, &#x27;1993-09-10T06:49:00.000000000&#x27;,
       &#x27;1993-09-10T10:06:00.000000000&#x27;, &#x27;1993-09-10T13:28:00.000000000&#x27;,
       &#x27;1993-09-11T06:35:00.000000000&#x27;, &#x27;1993-09-12T01:14:00.000000000&#x27;,
       &#x27;1993-09-12T05:41:00.000000000&#x27;, &#x27;1993-09-12T10:41:00.000000000&#x27;,
       &#x27;1993-09-12T20:58:00.000000000&#x27;, &#x27;1993-09-13T01:55:00.000000000&#x27;,
       &#x27;1993-09-13T07:05:00.000000000&#x27;, &#x27;1993-09-14T00:13:00.000000000&#x27;,
       &#x27;1993-09-14T05:08:00.000000000&#x27;, &#x27;1993-09-14T10:09:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>latitude</span></div><div class='xr-var-dims'>(latitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-8.007 -7.0 -6.0 ... 8.998 10.01</div><input id='attrs-9f9c3bfe-300e-418e-a8e8-5c33b8ec0223' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-9f9c3bfe-300e-418e-a8e8-5c33b8ec0223' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c4fba9fa-2648-4175-a266-c673c827eda6' class='xr-var-data-in' type='checkbox'><label for='data-c4fba9fa-2648-4175-a266-c673c827eda6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>latitude</dd><dt><span>units :</span></dt><dd>degrees_N</dd><dt><span>data_min :</span></dt><dd>-8.0067</dd><dt><span>data_max :</span></dt><dd>-8.0067</dd><dt><span>C_format :</span></dt><dd>%9.4f</dd></dl></div><pre class='xr-var-data'>array([-8.0067, -7.    , -6.    , -5.    , -4.0083, -2.99  , -2.0117, -0.9917,
       -0.    ,  0.4983,  0.9967,  1.5033,  1.9983,  3.0083,  4.0033,  5.005 ,
        6.0017,  7.0033,  8.0033,  8.0317,  8.9983, 10.005 ])</pre></li></ul></div></li><li class='xr-section-item'><input id='section-f9fd336a-ac51-4f5a-8458-2a1ca57bf74b' class='xr-section-summary-in' type='checkbox'  checked><label for='section-f9fd336a-ac51-4f5a-8458-2a1ca57bf74b' class='xr-section-summary' >Data variables: <span>(13)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>pressure_QC</span></div><div class='xr-var-dims'>(latitude, pressure)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 1008), meta=np.ndarray&gt;</div><input id='attrs-1b560ab3-101c-4e3e-b4e0-a4a2c602a829' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1b560ab3-101c-4e3e-b4e0-a4a2c602a829' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c5164ddf-61d6-4315-b6e0-53928de988ff' class='xr-var-data-in' type='checkbox'><label for='data-c5164ddf-61d6-4315-b6e0-53928de988ff' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>pressure_QC_flag</dd><dt><span>units :</span></dt><dd>woce_flags</dd><dt><span>C_format :</span></dt><dd>%1d</dd></dl></div><pre class='xr-var-data'><table>
<tr>
<td>
<table>
  <thead>
    <tr><td> </td><th> Array </th><th> Chunk </th></tr>
  </thead>
  <tbody>
    <tr><th> Bytes </th><td> 177.41 kB </td> <td> 8.06 kB </td></tr>
    <tr><th> Shape </th><td> (22, 1008) </td> <td> (1, 1008) </td></tr>
    <tr><th> Count </th><td> 228 Tasks </td><td> 22 Chunks </td></tr>
    <tr><th> Type </th><td> float64 </td><td> numpy.ndarray </td></tr>
  </tbody>
</table>
</td>
<td>
<svg width="170" height="79" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="1" x2="120" y2="1" />
  <line x1="0" y1="2" x2="120" y2="2" />
  <line x1="0" y1="4" x2="120" y2="4" />
  <line x1="0" y1="5" x2="120" y2="5" />
  <line x1="0" y1="6" x2="120" y2="6" />
  <line x1="0" y1="8" x2="120" y2="8" />
  <line x1="0" y1="9" x2="120" y2="9" />
  <line x1="0" y1="10" x2="120" y2="10" />
  <line x1="0" y1="12" x2="120" y2="12" />
  <line x1="0" y1="13" x2="120" y2="13" />
  <line x1="0" y1="14" x2="120" y2="14" />
  <line x1="0" y1="16" x2="120" y2="16" />
  <line x1="0" y1="17" x2="120" y2="17" />
  <line x1="0" y1="18" x2="120" y2="18" />
  <line x1="0" y1="20" x2="120" y2="20" />
  <line x1="0" y1="21" x2="120" y2="21" />
  <line x1="0" y1="22" x2="120" y2="22" />
  <line x1="0" y1="24" x2="120" y2="24" />
  <line x1="0" y1="25" x2="120" y2="25" />
  <line x1="0" y1="26" x2="120" y2="26" />
  <line x1="0" y1="28" x2="120" y2="28" />
  <line x1="0" y1="29" x2="120" y2="29" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="29" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="29" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.000000,0.000000 120.000000,0.000000 120.000000,29.526123 0.000000,29.526123" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="49.526123" font-size="1.0rem" font-weight="100" text-anchor="middle" >1008</text>
  <text x="140.000000" y="14.763061" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,14.763061)">22</text>
</svg>
</td>
</tr>
</table></pre></li><li class='xr-var-item'><div class='xr-var-name'><span>temperature</span></div><div class='xr-var-dims'>(latitude, pressure)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 1008), meta=np.ndarray&gt;</div><input id='attrs-d85e06d4-3f9e-4aca-9d37-a72b04b7d65b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-d85e06d4-3f9e-4aca-9d37-a72b04b7d65b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-19718efa-710a-486e-8fe0-4eacb2cdd7f3' class='xr-var-data-in' type='checkbox'><label for='data-19718efa-710a-486e-8fe0-4eacb2cdd7f3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>temperature</dd><dt><span>units :</span></dt><dd>its-90</dd><dt><span>data_min :</span></dt><dd>4.4159</dd><dt><span>data_max :</span></dt><dd>25.1227</dd><dt><span>C_format :</span></dt><dd>%8.4f</dd><dt><span>WHPO_Variable_Name :</span></dt><dd>CTDTMP</dd><dt><span>OBS_QC_VARIABLE :</span></dt><dd>temperature_QC</dd></dl></div><pre class='xr-var-data'><table>
<tr>
<td>
<table>
  <thead>
    <tr><td> </td><th> Array </th><th> Chunk </th></tr>
  </thead>
  <tbody>
    <tr><th> Bytes </th><td> 177.41 kB </td> <td> 8.06 kB </td></tr>
    <tr><th> Shape </th><td> (22, 1008) </td> <td> (1, 1008) </td></tr>
    <tr><th> Count </th><td> 206 Tasks </td><td> 22 Chunks </td></tr>
    <tr><th> Type </th><td> float64 </td><td> numpy.ndarray </td></tr>
  </tbody>
</table>
</td>
<td>
<svg width="170" height="79" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="1" x2="120" y2="1" />
  <line x1="0" y1="2" x2="120" y2="2" />
  <line x1="0" y1="4" x2="120" y2="4" />
  <line x1="0" y1="5" x2="120" y2="5" />
  <line x1="0" y1="6" x2="120" y2="6" />
  <line x1="0" y1="8" x2="120" y2="8" />
  <line x1="0" y1="9" x2="120" y2="9" />
  <line x1="0" y1="10" x2="120" y2="10" />
  <line x1="0" y1="12" x2="120" y2="12" />
  <line x1="0" y1="13" x2="120" y2="13" />
  <line x1="0" y1="14" x2="120" y2="14" />
  <line x1="0" y1="16" x2="120" y2="16" />
  <line x1="0" y1="17" x2="120" y2="17" />
  <line x1="0" y1="18" x2="120" y2="18" />
  <line x1="0" y1="20" x2="120" y2="20" />
  <line x1="0" y1="21" x2="120" y2="21" />
  <line x1="0" y1="22" x2="120" y2="22" />
  <line x1="0" y1="24" x2="120" y2="24" />
  <line x1="0" y1="25" x2="120" y2="25" />
  <line x1="0" y1="26" x2="120" y2="26" />
  <line x1="0" y1="28" x2="120" y2="28" />
  <line x1="0" y1="29" x2="120" y2="29" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="29" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="29" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.000000,0.000000 120.000000,0.000000 120.000000,29.526123 0.000000,29.526123" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="49.526123" font-size="1.0rem" font-weight="100" text-anchor="middle" >1008</text>
  <text x="140.000000" y="14.763061" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,14.763061)">22</text>
</svg>
</td>
</tr>
</table></pre></li><li class='xr-var-item'><div class='xr-var-name'><span>temperature_QC</span></div><div class='xr-var-dims'>(latitude, pressure)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 1008), meta=np.ndarray&gt;</div><input id='attrs-5edcd81d-d642-45eb-a8b7-a406bbab61c5' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-5edcd81d-d642-45eb-a8b7-a406bbab61c5' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-59526e9b-2b9d-4cc5-b37e-424eb4736dc6' class='xr-var-data-in' type='checkbox'><label for='data-59526e9b-2b9d-4cc5-b37e-424eb4736dc6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>temperature_QC_flag</dd><dt><span>units :</span></dt><dd>woce_flags</dd><dt><span>C_format :</span></dt><dd>%1d</dd></dl></div><pre class='xr-var-data'><table>
<tr>
<td>
<table>
  <thead>
    <tr><td> </td><th> Array </th><th> Chunk </th></tr>
  </thead>
  <tbody>
    <tr><th> Bytes </th><td> 177.41 kB </td> <td> 8.06 kB </td></tr>
    <tr><th> Shape </th><td> (22, 1008) </td> <td> (1, 1008) </td></tr>
    <tr><th> Count </th><td> 228 Tasks </td><td> 22 Chunks </td></tr>
    <tr><th> Type </th><td> float64 </td><td> numpy.ndarray </td></tr>
  </tbody>
</table>
</td>
<td>
<svg width="170" height="79" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="1" x2="120" y2="1" />
  <line x1="0" y1="2" x2="120" y2="2" />
  <line x1="0" y1="4" x2="120" y2="4" />
  <line x1="0" y1="5" x2="120" y2="5" />
  <line x1="0" y1="6" x2="120" y2="6" />
  <line x1="0" y1="8" x2="120" y2="8" />
  <line x1="0" y1="9" x2="120" y2="9" />
  <line x1="0" y1="10" x2="120" y2="10" />
  <line x1="0" y1="12" x2="120" y2="12" />
  <line x1="0" y1="13" x2="120" y2="13" />
  <line x1="0" y1="14" x2="120" y2="14" />
  <line x1="0" y1="16" x2="120" y2="16" />
  <line x1="0" y1="17" x2="120" y2="17" />
  <line x1="0" y1="18" x2="120" y2="18" />
  <line x1="0" y1="20" x2="120" y2="20" />
  <line x1="0" y1="21" x2="120" y2="21" />
  <line x1="0" y1="22" x2="120" y2="22" />
  <line x1="0" y1="24" x2="120" y2="24" />
  <line x1="0" y1="25" x2="120" y2="25" />
  <line x1="0" y1="26" x2="120" y2="26" />
  <line x1="0" y1="28" x2="120" y2="28" />
  <line x1="0" y1="29" x2="120" y2="29" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="29" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="29" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.000000,0.000000 120.000000,0.000000 120.000000,29.526123 0.000000,29.526123" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="49.526123" font-size="1.0rem" font-weight="100" text-anchor="middle" >1008</text>
  <text x="140.000000" y="14.763061" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,14.763061)">22</text>
</svg>
</td>
</tr>
</table></pre></li><li class='xr-var-item'><div class='xr-var-name'><span>salinity</span></div><div class='xr-var-dims'>(latitude, pressure)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 1008), meta=np.ndarray&gt;</div><input id='attrs-47bf9486-0c67-4589-a928-d0355a886505' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-47bf9486-0c67-4589-a928-d0355a886505' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d34d15f5-991b-4093-8fd0-1f4372f8c9ce' class='xr-var-data-in' type='checkbox'><label for='data-d34d15f5-991b-4093-8fd0-1f4372f8c9ce' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>ctd salinity</dd><dt><span>units :</span></dt><dd>pss-78</dd><dt><span>data_min :</span></dt><dd>34.5211</dd><dt><span>data_max :</span></dt><dd>35.6562</dd><dt><span>C_format :</span></dt><dd>%8.4f</dd><dt><span>WHPO_Variable_Name :</span></dt><dd>CTDSAL</dd><dt><span>OBS_QC_VARIABLE :</span></dt><dd>salinity_QC</dd></dl></div><pre class='xr-var-data'><table>
<tr>
<td>
<table>
  <thead>
    <tr><td> </td><th> Array </th><th> Chunk </th></tr>
  </thead>
  <tbody>
    <tr><th> Bytes </th><td> 177.41 kB </td> <td> 8.06 kB </td></tr>
    <tr><th> Shape </th><td> (22, 1008) </td> <td> (1, 1008) </td></tr>
    <tr><th> Count </th><td> 206 Tasks </td><td> 22 Chunks </td></tr>
    <tr><th> Type </th><td> float64 </td><td> numpy.ndarray </td></tr>
  </tbody>
</table>
</td>
<td>
<svg width="170" height="79" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="1" x2="120" y2="1" />
  <line x1="0" y1="2" x2="120" y2="2" />
  <line x1="0" y1="4" x2="120" y2="4" />
  <line x1="0" y1="5" x2="120" y2="5" />
  <line x1="0" y1="6" x2="120" y2="6" />
  <line x1="0" y1="8" x2="120" y2="8" />
  <line x1="0" y1="9" x2="120" y2="9" />
  <line x1="0" y1="10" x2="120" y2="10" />
  <line x1="0" y1="12" x2="120" y2="12" />
  <line x1="0" y1="13" x2="120" y2="13" />
  <line x1="0" y1="14" x2="120" y2="14" />
  <line x1="0" y1="16" x2="120" y2="16" />
  <line x1="0" y1="17" x2="120" y2="17" />
  <line x1="0" y1="18" x2="120" y2="18" />
  <line x1="0" y1="20" x2="120" y2="20" />
  <line x1="0" y1="21" x2="120" y2="21" />
  <line x1="0" y1="22" x2="120" y2="22" />
  <line x1="0" y1="24" x2="120" y2="24" />
  <line x1="0" y1="25" x2="120" y2="25" />
  <line x1="0" y1="26" x2="120" y2="26" />
  <line x1="0" y1="28" x2="120" y2="28" />
  <line x1="0" y1="29" x2="120" y2="29" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="29" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="29" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.000000,0.000000 120.000000,0.000000 120.000000,29.526123 0.000000,29.526123" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="49.526123" font-size="1.0rem" font-weight="100" text-anchor="middle" >1008</text>
  <text x="140.000000" y="14.763061" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,14.763061)">22</text>
</svg>
</td>
</tr>
</table></pre></li><li class='xr-var-item'><div class='xr-var-name'><span>salinity_QC</span></div><div class='xr-var-dims'>(latitude, pressure)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 1008), meta=np.ndarray&gt;</div><input id='attrs-942daeb4-585f-418f-b56f-66997bb10b63' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-942daeb4-585f-418f-b56f-66997bb10b63' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d51ff6af-eec5-44ab-ae12-c0f6275fdb5e' class='xr-var-data-in' type='checkbox'><label for='data-d51ff6af-eec5-44ab-ae12-c0f6275fdb5e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>ctd salinity_QC_flag</dd><dt><span>units :</span></dt><dd>woce_flags</dd><dt><span>C_format :</span></dt><dd>%1d</dd></dl></div><pre class='xr-var-data'><table>
<tr>
<td>
<table>
  <thead>
    <tr><td> </td><th> Array </th><th> Chunk </th></tr>
  </thead>
  <tbody>
    <tr><th> Bytes </th><td> 177.41 kB </td> <td> 8.06 kB </td></tr>
    <tr><th> Shape </th><td> (22, 1008) </td> <td> (1, 1008) </td></tr>
    <tr><th> Count </th><td> 228 Tasks </td><td> 22 Chunks </td></tr>
    <tr><th> Type </th><td> float64 </td><td> numpy.ndarray </td></tr>
  </tbody>
</table>
</td>
<td>
<svg width="170" height="79" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="1" x2="120" y2="1" />
  <line x1="0" y1="2" x2="120" y2="2" />
  <line x1="0" y1="4" x2="120" y2="4" />
  <line x1="0" y1="5" x2="120" y2="5" />
  <line x1="0" y1="6" x2="120" y2="6" />
  <line x1="0" y1="8" x2="120" y2="8" />
  <line x1="0" y1="9" x2="120" y2="9" />
  <line x1="0" y1="10" x2="120" y2="10" />
  <line x1="0" y1="12" x2="120" y2="12" />
  <line x1="0" y1="13" x2="120" y2="13" />
  <line x1="0" y1="14" x2="120" y2="14" />
  <line x1="0" y1="16" x2="120" y2="16" />
  <line x1="0" y1="17" x2="120" y2="17" />
  <line x1="0" y1="18" x2="120" y2="18" />
  <line x1="0" y1="20" x2="120" y2="20" />
  <line x1="0" y1="21" x2="120" y2="21" />
  <line x1="0" y1="22" x2="120" y2="22" />
  <line x1="0" y1="24" x2="120" y2="24" />
  <line x1="0" y1="25" x2="120" y2="25" />
  <line x1="0" y1="26" x2="120" y2="26" />
  <line x1="0" y1="28" x2="120" y2="28" />
  <line x1="0" y1="29" x2="120" y2="29" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="29" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="29" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.000000,0.000000 120.000000,0.000000 120.000000,29.526123 0.000000,29.526123" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="49.526123" font-size="1.0rem" font-weight="100" text-anchor="middle" >1008</text>
  <text x="140.000000" y="14.763061" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,14.763061)">22</text>
</svg>
</td>
</tr>
</table></pre></li><li class='xr-var-item'><div class='xr-var-name'><span>oxygen</span></div><div class='xr-var-dims'>(latitude, pressure)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 1008), meta=np.ndarray&gt;</div><input id='attrs-9ec91356-dab5-4233-a0c4-f59002a93247' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-9ec91356-dab5-4233-a0c4-f59002a93247' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c7e27658-49b1-4ea2-abea-fc36341ba452' class='xr-var-data-in' type='checkbox'><label for='data-c7e27658-49b1-4ea2-abea-fc36341ba452' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>ctd oxygen</dd><dt><span>units :</span></dt><dd>umol/kg</dd><dt><span>data_min :</span></dt><dd>-999.0</dd><dt><span>data_max :</span></dt><dd>0.0</dd><dt><span>C_format :</span></dt><dd>%8.1f</dd><dt><span>WHPO_Variable_Name :</span></dt><dd>CTDOXY</dd><dt><span>OBS_QC_VARIABLE :</span></dt><dd>oxygen_QC</dd></dl></div><pre class='xr-var-data'><table>
<tr>
<td>
<table>
  <thead>
    <tr><td> </td><th> Array </th><th> Chunk </th></tr>
  </thead>
  <tbody>
    <tr><th> Bytes </th><td> 177.41 kB </td> <td> 8.06 kB </td></tr>
    <tr><th> Shape </th><td> (22, 1008) </td> <td> (1, 1008) </td></tr>
    <tr><th> Count </th><td> 206 Tasks </td><td> 22 Chunks </td></tr>
    <tr><th> Type </th><td> float64 </td><td> numpy.ndarray </td></tr>
  </tbody>
</table>
</td>
<td>
<svg width="170" height="79" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="1" x2="120" y2="1" />
  <line x1="0" y1="2" x2="120" y2="2" />
  <line x1="0" y1="4" x2="120" y2="4" />
  <line x1="0" y1="5" x2="120" y2="5" />
  <line x1="0" y1="6" x2="120" y2="6" />
  <line x1="0" y1="8" x2="120" y2="8" />
  <line x1="0" y1="9" x2="120" y2="9" />
  <line x1="0" y1="10" x2="120" y2="10" />
  <line x1="0" y1="12" x2="120" y2="12" />
  <line x1="0" y1="13" x2="120" y2="13" />
  <line x1="0" y1="14" x2="120" y2="14" />
  <line x1="0" y1="16" x2="120" y2="16" />
  <line x1="0" y1="17" x2="120" y2="17" />
  <line x1="0" y1="18" x2="120" y2="18" />
  <line x1="0" y1="20" x2="120" y2="20" />
  <line x1="0" y1="21" x2="120" y2="21" />
  <line x1="0" y1="22" x2="120" y2="22" />
  <line x1="0" y1="24" x2="120" y2="24" />
  <line x1="0" y1="25" x2="120" y2="25" />
  <line x1="0" y1="26" x2="120" y2="26" />
  <line x1="0" y1="28" x2="120" y2="28" />
  <line x1="0" y1="29" x2="120" y2="29" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="29" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="29" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.000000,0.000000 120.000000,0.000000 120.000000,29.526123 0.000000,29.526123" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="49.526123" font-size="1.0rem" font-weight="100" text-anchor="middle" >1008</text>
  <text x="140.000000" y="14.763061" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,14.763061)">22</text>
</svg>
</td>
</tr>
</table></pre></li><li class='xr-var-item'><div class='xr-var-name'><span>oxygen_QC</span></div><div class='xr-var-dims'>(latitude, pressure)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 1008), meta=np.ndarray&gt;</div><input id='attrs-f2466d8c-488b-4ede-96cd-dedf6b3c8275' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f2466d8c-488b-4ede-96cd-dedf6b3c8275' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b1e774bd-4c09-4045-9029-01998ae1882c' class='xr-var-data-in' type='checkbox'><label for='data-b1e774bd-4c09-4045-9029-01998ae1882c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>ctd oxygen_QC_flag</dd><dt><span>units :</span></dt><dd>woce_flags</dd><dt><span>C_format :</span></dt><dd>%1d</dd></dl></div><pre class='xr-var-data'><table>
<tr>
<td>
<table>
  <thead>
    <tr><td> </td><th> Array </th><th> Chunk </th></tr>
  </thead>
  <tbody>
    <tr><th> Bytes </th><td> 177.41 kB </td> <td> 8.06 kB </td></tr>
    <tr><th> Shape </th><td> (22, 1008) </td> <td> (1, 1008) </td></tr>
    <tr><th> Count </th><td> 228 Tasks </td><td> 22 Chunks </td></tr>
    <tr><th> Type </th><td> float64 </td><td> numpy.ndarray </td></tr>
  </tbody>
</table>
</td>
<td>
<svg width="170" height="79" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="1" x2="120" y2="1" />
  <line x1="0" y1="2" x2="120" y2="2" />
  <line x1="0" y1="4" x2="120" y2="4" />
  <line x1="0" y1="5" x2="120" y2="5" />
  <line x1="0" y1="6" x2="120" y2="6" />
  <line x1="0" y1="8" x2="120" y2="8" />
  <line x1="0" y1="9" x2="120" y2="9" />
  <line x1="0" y1="10" x2="120" y2="10" />
  <line x1="0" y1="12" x2="120" y2="12" />
  <line x1="0" y1="13" x2="120" y2="13" />
  <line x1="0" y1="14" x2="120" y2="14" />
  <line x1="0" y1="16" x2="120" y2="16" />
  <line x1="0" y1="17" x2="120" y2="17" />
  <line x1="0" y1="18" x2="120" y2="18" />
  <line x1="0" y1="20" x2="120" y2="20" />
  <line x1="0" y1="21" x2="120" y2="21" />
  <line x1="0" y1="22" x2="120" y2="22" />
  <line x1="0" y1="24" x2="120" y2="24" />
  <line x1="0" y1="25" x2="120" y2="25" />
  <line x1="0" y1="26" x2="120" y2="26" />
  <line x1="0" y1="28" x2="120" y2="28" />
  <line x1="0" y1="29" x2="120" y2="29" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="29" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="29" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.000000,0.000000 120.000000,0.000000 120.000000,29.526123 0.000000,29.526123" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="49.526123" font-size="1.0rem" font-weight="100" text-anchor="middle" >1008</text>
  <text x="140.000000" y="14.763061" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,14.763061)">22</text>
</svg>
</td>
</tr>
</table></pre></li><li class='xr-var-item'><div class='xr-var-name'><span>woce_date</span></div><div class='xr-var-dims'>(latitude)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1,), meta=np.ndarray&gt;</div><input id='attrs-345656bd-8186-403f-9bb6-0ede74e2dd41' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-345656bd-8186-403f-9bb6-0ede74e2dd41' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b82d187f-2cb8-470e-9774-86e51a463a6c' class='xr-var-data-in' type='checkbox'><label for='data-b82d187f-2cb8-470e-9774-86e51a463a6c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>WOCE date</dd><dt><span>units :</span></dt><dd>yyyymmdd UTC</dd><dt><span>data_min :</span></dt><dd>19930908.0</dd><dt><span>data_max :</span></dt><dd>19930908.0</dd><dt><span>C_format :</span></dt><dd>%8d</dd></dl></div><pre class='xr-var-data'><table>
<tr>
<td>
<table>
  <thead>
    <tr><td> </td><th> Array </th><th> Chunk </th></tr>
  </thead>
  <tbody>
    <tr><th> Bytes </th><td> 176 B </td> <td> 8 B </td></tr>
    <tr><th> Shape </th><td> (22,) </td> <td> (1,) </td></tr>
    <tr><th> Count </th><td> 110 Tasks </td><td> 22 Chunks </td></tr>
    <tr><th> Type </th><td> int64 </td><td> numpy.ndarray </td></tr>
  </tbody>
</table>
</td>
<td>
<svg width="170" height="83" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="33" x2="120" y2="33" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="33" style="stroke-width:2" />
  <line x1="5" y1="0" x2="5" y2="33" />
  <line x1="10" y1="0" x2="10" y2="33" />
  <line x1="16" y1="0" x2="16" y2="33" />
  <line x1="21" y1="0" x2="21" y2="33" />
  <line x1="27" y1="0" x2="27" y2="33" />
  <line x1="32" y1="0" x2="32" y2="33" />
  <line x1="38" y1="0" x2="38" y2="33" />
  <line x1="43" y1="0" x2="43" y2="33" />
  <line x1="49" y1="0" x2="49" y2="33" />
  <line x1="54" y1="0" x2="54" y2="33" />
  <line x1="60" y1="0" x2="60" y2="33" />
  <line x1="65" y1="0" x2="65" y2="33" />
  <line x1="70" y1="0" x2="70" y2="33" />
  <line x1="76" y1="0" x2="76" y2="33" />
  <line x1="81" y1="0" x2="81" y2="33" />
  <line x1="87" y1="0" x2="87" y2="33" />
  <line x1="92" y1="0" x2="92" y2="33" />
  <line x1="98" y1="0" x2="98" y2="33" />
  <line x1="103" y1="0" x2="103" y2="33" />
  <line x1="109" y1="0" x2="109" y2="33" />
  <line x1="114" y1="0" x2="114" y2="33" />
  <line x1="120" y1="0" x2="120" y2="33" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.000000,0.000000 120.000000,0.000000 120.000000,33.916925 0.000000,33.916925" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="53.916925" font-size="1.0rem" font-weight="100" text-anchor="middle" >22</text>
  <text x="140.000000" y="16.958463" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,16.958463)">1</text>
</svg>
</td>
</tr>
</table></pre></li><li class='xr-var-item'><div class='xr-var-name'><span>woce_time</span></div><div class='xr-var-dims'>(latitude)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1,), meta=np.ndarray&gt;</div><input id='attrs-9e5bd510-f4dd-4039-8035-25a0cd3cc52a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-9e5bd510-f4dd-4039-8035-25a0cd3cc52a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-26679083-7edb-4a7c-81bf-fef7da2c9050' class='xr-var-data-in' type='checkbox'><label for='data-26679083-7edb-4a7c-81bf-fef7da2c9050' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>WOCE time</dd><dt><span>units :</span></dt><dd>hhmm UTC</dd><dt><span>data_min :</span></dt><dd>231.0</dd><dt><span>data_max :</span></dt><dd>231.0</dd><dt><span>C_format :</span></dt><dd>%4d</dd></dl></div><pre class='xr-var-data'><table>
<tr>
<td>
<table>
  <thead>
    <tr><td> </td><th> Array </th><th> Chunk </th></tr>
  </thead>
  <tbody>
    <tr><th> Bytes </th><td> 176 B </td> <td> 8 B </td></tr>
    <tr><th> Shape </th><td> (22,) </td> <td> (1,) </td></tr>
    <tr><th> Count </th><td> 110 Tasks </td><td> 22 Chunks </td></tr>
    <tr><th> Type </th><td> int64 </td><td> numpy.ndarray </td></tr>
  </tbody>
</table>
</td>
<td>
<svg width="170" height="83" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="33" x2="120" y2="33" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="33" style="stroke-width:2" />
  <line x1="5" y1="0" x2="5" y2="33" />
  <line x1="10" y1="0" x2="10" y2="33" />
  <line x1="16" y1="0" x2="16" y2="33" />
  <line x1="21" y1="0" x2="21" y2="33" />
  <line x1="27" y1="0" x2="27" y2="33" />
  <line x1="32" y1="0" x2="32" y2="33" />
  <line x1="38" y1="0" x2="38" y2="33" />
  <line x1="43" y1="0" x2="43" y2="33" />
  <line x1="49" y1="0" x2="49" y2="33" />
  <line x1="54" y1="0" x2="54" y2="33" />
  <line x1="60" y1="0" x2="60" y2="33" />
  <line x1="65" y1="0" x2="65" y2="33" />
  <line x1="70" y1="0" x2="70" y2="33" />
  <line x1="76" y1="0" x2="76" y2="33" />
  <line x1="81" y1="0" x2="81" y2="33" />
  <line x1="87" y1="0" x2="87" y2="33" />
  <line x1="92" y1="0" x2="92" y2="33" />
  <line x1="98" y1="0" x2="98" y2="33" />
  <line x1="103" y1="0" x2="103" y2="33" />
  <line x1="109" y1="0" x2="109" y2="33" />
  <line x1="114" y1="0" x2="114" y2="33" />
  <line x1="120" y1="0" x2="120" y2="33" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.000000,0.000000 120.000000,0.000000 120.000000,33.916925 0.000000,33.916925" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="53.916925" font-size="1.0rem" font-weight="100" text-anchor="middle" >22</text>
  <text x="140.000000" y="16.958463" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,16.958463)">1</text>
</svg>
</td>
</tr>
</table></pre></li><li class='xr-var-item'><div class='xr-var-name'><span>station</span></div><div class='xr-var-dims'>(latitude)</div><div class='xr-var-dtype'>|S40</div><div class='xr-var-preview xr-preview'>b&#x27;20&#x27; b&#x27;21&#x27; b&#x27;22&#x27; ... b&#x27;40&#x27; b&#x27;41&#x27;</div><input id='attrs-44e432ee-2c6c-4631-9b74-3f32d34a9483' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-44e432ee-2c6c-4631-9b74-3f32d34a9483' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9d8469a9-daeb-4e31-b051-1da136a08cc9' class='xr-var-data-in' type='checkbox'><label for='data-9d8469a9-daeb-4e31-b051-1da136a08cc9' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>STATION</dd><dt><span>units :</span></dt><dd>unspecified</dd><dt><span>C_format :</span></dt><dd>%s</dd></dl></div><pre class='xr-var-data'>array([b&#x27;20&#x27;, b&#x27;21&#x27;, b&#x27;22&#x27;, b&#x27;23&#x27;, b&#x27;24&#x27;, b&#x27;25&#x27;, b&#x27;26&#x27;, b&#x27;27&#x27;, b&#x27;28&#x27;,
       b&#x27;29&#x27;, b&#x27;30&#x27;, b&#x27;31&#x27;, b&#x27;32&#x27;, b&#x27;33&#x27;, b&#x27;34&#x27;, b&#x27;35&#x27;, b&#x27;36&#x27;, b&#x27;37&#x27;,
       b&#x27;38&#x27;, b&#x27;39&#x27;, b&#x27;40&#x27;, b&#x27;41&#x27;], dtype=&#x27;|S40&#x27;)</pre></li><li class='xr-var-item'><div class='xr-var-name'><span>cast</span></div><div class='xr-var-dims'>(latitude)</div><div class='xr-var-dtype'>|S40</div><div class='xr-var-preview xr-preview'>b&#x27;1&#x27; b&#x27;1&#x27; b&#x27;1&#x27; ... b&#x27;1&#x27; b&#x27;1&#x27; b&#x27;1&#x27;</div><input id='attrs-048ac2c2-6432-4043-b068-69b92833a23f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-048ac2c2-6432-4043-b068-69b92833a23f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b04b07c8-b455-4edb-a0de-d7987e4e332c' class='xr-var-data-in' type='checkbox'><label for='data-b04b07c8-b455-4edb-a0de-d7987e4e332c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>CAST</dd><dt><span>units :</span></dt><dd>unspecified</dd><dt><span>C_format :</span></dt><dd>%s</dd></dl></div><pre class='xr-var-data'>array([b&#x27;1&#x27;, b&#x27;1&#x27;, b&#x27;1&#x27;, b&#x27;1&#x27;, b&#x27;1&#x27;, b&#x27;1&#x27;, b&#x27;1&#x27;, b&#x27;1&#x27;, b&#x27;1&#x27;, b&#x27;1&#x27;, b&#x27;1&#x27;,
       b&#x27;1&#x27;, b&#x27;1&#x27;, b&#x27;1&#x27;, b&#x27;1&#x27;, b&#x27;1&#x27;, b&#x27;1&#x27;, b&#x27;1&#x27;, b&#x27;1&#x27;, b&#x27;1&#x27;, b&#x27;1&#x27;, b&#x27;1&#x27;],
      dtype=&#x27;|S40&#x27;)</pre></li><li class='xr-var-item'><div class='xr-var-name'><span>density</span></div><div class='xr-var-dims'>(latitude, pressure)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 1008), meta=np.ndarray&gt;</div><input id='attrs-8e79d1cf-2938-415a-8dd2-2858fa3f63c0' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-8e79d1cf-2938-415a-8dd2-2858fa3f63c0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-501147ba-5ec5-4fbd-b9d7-4c674d8bfe33' class='xr-var-data-in' type='checkbox'><label for='data-501147ba-5ec5-4fbd-b9d7-4c674d8bfe33' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><pre class='xr-var-data'><table>
<tr>
<td>
<table>
  <thead>
    <tr><td> </td><th> Array </th><th> Chunk </th></tr>
  </thead>
  <tbody>
    <tr><th> Bytes </th><td> 177.41 kB </td> <td> 8.06 kB </td></tr>
    <tr><th> Shape </th><td> (22, 1008) </td> <td> (1, 1008) </td></tr>
    <tr><th> Count </th><td> 5622 Tasks </td><td> 22 Chunks </td></tr>
    <tr><th> Type </th><td> float64 </td><td> numpy.ndarray </td></tr>
  </tbody>
</table>
</td>
<td>
<svg width="170" height="79" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="1" x2="120" y2="1" />
  <line x1="0" y1="2" x2="120" y2="2" />
  <line x1="0" y1="4" x2="120" y2="4" />
  <line x1="0" y1="5" x2="120" y2="5" />
  <line x1="0" y1="6" x2="120" y2="6" />
  <line x1="0" y1="8" x2="120" y2="8" />
  <line x1="0" y1="9" x2="120" y2="9" />
  <line x1="0" y1="10" x2="120" y2="10" />
  <line x1="0" y1="12" x2="120" y2="12" />
  <line x1="0" y1="13" x2="120" y2="13" />
  <line x1="0" y1="14" x2="120" y2="14" />
  <line x1="0" y1="16" x2="120" y2="16" />
  <line x1="0" y1="17" x2="120" y2="17" />
  <line x1="0" y1="18" x2="120" y2="18" />
  <line x1="0" y1="20" x2="120" y2="20" />
  <line x1="0" y1="21" x2="120" y2="21" />
  <line x1="0" y1="22" x2="120" y2="22" />
  <line x1="0" y1="24" x2="120" y2="24" />
  <line x1="0" y1="25" x2="120" y2="25" />
  <line x1="0" y1="26" x2="120" y2="26" />
  <line x1="0" y1="28" x2="120" y2="28" />
  <line x1="0" y1="29" x2="120" y2="29" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="29" style="stroke-width:2" />
  <line x1="120" y1="0" x2="120" y2="29" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.000000,0.000000 120.000000,0.000000 120.000000,29.526123 0.000000,29.526123" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="49.526123" font-size="1.0rem" font-weight="100" text-anchor="middle" >1008</text>
  <text x="140.000000" y="14.763061" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,14.763061)">22</text>
</svg>
</td>
</tr>
</table></pre></li><li class='xr-var-item'><div class='xr-var-name'><span>mld</span></div><div class='xr-var-dims'>(latitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1,), meta=np.ndarray&gt;</div><input id='attrs-2d0af732-0a6b-497f-9cbc-58c1bd9c5cdc' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-2d0af732-0a6b-497f-9cbc-58c1bd9c5cdc' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c56db94e-7a7d-4067-aff8-cca0df8d9e4b' class='xr-var-data-in' type='checkbox'><label for='data-c56db94e-7a7d-4067-aff8-cca0df8d9e4b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><pre class='xr-var-data'><table>
<tr>
<td>
<table>
  <thead>
    <tr><td> </td><th> Array </th><th> Chunk </th></tr>
  </thead>
  <tbody>
    <tr><th> Bytes </th><td> 176 B </td> <td> 8 B </td></tr>
    <tr><th> Shape </th><td> (22,) </td> <td> (1,) </td></tr>
    <tr><th> Count </th><td> 5821 Tasks </td><td> 22 Chunks </td></tr>
    <tr><th> Type </th><td> float64 </td><td> numpy.ndarray </td></tr>
  </tbody>
</table>
</td>
<td>
<svg width="170" height="83" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="33" x2="120" y2="33" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="33" style="stroke-width:2" />
  <line x1="5" y1="0" x2="5" y2="33" />
  <line x1="10" y1="0" x2="10" y2="33" />
  <line x1="16" y1="0" x2="16" y2="33" />
  <line x1="21" y1="0" x2="21" y2="33" />
  <line x1="27" y1="0" x2="27" y2="33" />
  <line x1="32" y1="0" x2="32" y2="33" />
  <line x1="38" y1="0" x2="38" y2="33" />
  <line x1="43" y1="0" x2="43" y2="33" />
  <line x1="49" y1="0" x2="49" y2="33" />
  <line x1="54" y1="0" x2="54" y2="33" />
  <line x1="60" y1="0" x2="60" y2="33" />
  <line x1="65" y1="0" x2="65" y2="33" />
  <line x1="70" y1="0" x2="70" y2="33" />
  <line x1="76" y1="0" x2="76" y2="33" />
  <line x1="81" y1="0" x2="81" y2="33" />
  <line x1="87" y1="0" x2="87" y2="33" />
  <line x1="92" y1="0" x2="92" y2="33" />
  <line x1="98" y1="0" x2="98" y2="33" />
  <line x1="103" y1="0" x2="103" y2="33" />
  <line x1="109" y1="0" x2="109" y2="33" />
  <line x1="114" y1="0" x2="114" y2="33" />
  <line x1="120" y1="0" x2="120" y2="33" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.000000,0.000000 120.000000,0.000000 120.000000,33.916925 0.000000,33.916925" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="53.916925" font-size="1.0rem" font-weight="100" text-anchor="middle" >22</text>
  <text x="140.000000" y="16.958463" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,16.958463)">1</text>
</svg>
</td>
</tr>
</table></pre></li></ul></div></li><li class='xr-section-item'><input id='section-8a9cd26f-11f9-485e-a9f3-b82ac82d9ba1' class='xr-section-summary-in' type='checkbox'  ><label for='section-8a9cd26f-11f9-485e-a9f3-b82ac82d9ba1' class='xr-section-summary' >Attributes: <span>(11)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>EXPOCODE :</span></dt><dd>31DSEP393_1</dd><dt><span>Conventions :</span></dt><dd>COARDS/WOCE</dd><dt><span>WOCE_VERSION :</span></dt><dd>3.0</dd><dt><span>WOCE_ID :</span></dt><dd>PR16</dd><dt><span>DATA_TYPE :</span></dt><dd>WOCE CTD</dd><dt><span>STATION_NUMBER :</span></dt><dd>20</dd><dt><span>CAST_NUMBER :</span></dt><dd>1</dd><dt><span>BOTTOM_DEPTH_METERS :</span></dt><dd>0</dd><dt><span>Creation_Time :</span></dt><dd>Diggs Code Version 1.2: Mon Aug 26 19:47:34 2002 GMT</dd><dt><span>ORIGINAL_HEADER :</span></dt><dd>:CTD,20020826WHPOSIOHLB:#Software Version: CTD_Exchange_Encode_v1.0g (Diggs):#SUMFILE_NAME:     pr16_hsu.txt:#SUMFILE_MOD_DATE: Mon Aug 26 12:45:46 2002:#CTDFILE_NAME:     EP393W20.WCT:#CTDFILE_MOD_DATE: Mon Aug 26 12:43:21 2002:#DEPTH_TYPE      : UNC:#EVENT_CODE      : BO:</dd><dt><span>WOCE_CTD_FLAG_DESCRIPTION :</span></dt><dd>::1=Not calibrated:2=Acceptable measurement:3=Questionable measurement:4=Bad measurement:5=Not reported:6=Interpolated over &gt;2 dbar interval:7=Despiked:8=Not assigned for CTD data:9=Not sampled::</dd></dl></div></li></ul></div></div></div></div>
</div>
<section id="processing">
<h3>processing<a class="headerlink" href="#processing" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">adcp</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">read_adcp</span><span class="p">(</span>
    <span class="s2">&quot;../datasets/adcp/31DSEP393_1_00210_short.nc&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">110</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="n">ctd</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">find_cruise</span><span class="p">(</span><span class="n">cruises</span><span class="p">,</span> <span class="s2">&quot;31DSEP393&quot;</span><span class="p">)</span>
<span class="c1"># ctd[&quot;density&quot;] = dcpy.eos.pden(ctd.salinity, ctd.temperature, ctd.pressure)</span>
<span class="n">ctd</span><span class="p">,</span> <span class="n">adcp</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">trim_ctd_adcp</span><span class="p">(</span><span class="n">ctd</span><span class="p">,</span> <span class="n">adcp</span><span class="p">)</span>
<span class="n">binned</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">grid_ctd_adcp</span><span class="p">(</span><span class="n">ctd</span><span class="p">,</span> <span class="n">adcp</span><span class="p">)</span>
<span class="c1"># ctd[&quot;latitude&quot;] = np.round(ctd.latitude, 1)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Found 31DSEP393 at index 24.
</pre></div>
</div>
<img alt="_images/81aa0ba112dd0f29b89072bbee4671affdc01d59d3b448ca5cda0362ffc82323.png" src="_images/81aa0ba112dd0f29b89072bbee4671affdc01d59d3b448ca5cda0362ffc82323.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">adcp</span><span class="o">.</span><span class="n">latitude</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">)</span>
<span class="n">ctd</span><span class="o">.</span><span class="n">latitude</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;1993-09-11&quot;</span><span class="p">,</span> <span class="s2">&quot;1993-09-13&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x2b723305b3d0&gt;]
</pre></div>
</div>
<img alt="_images/ab2168d817c95260e3aa3c7ee2eef755323f3d2f50da0f66aef2f655517642e0.png" src="_images/ab2168d817c95260e3aa3c7ee2eef755323f3d2f50da0f66aef2f655517642e0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">binned</span><span class="o">.</span><span class="n">density</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s2">&quot;depth&quot;</span><span class="p">,</span> <span class="n">yincrease</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">robust</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.QuadMesh at 0x2b72330611d0&gt;
</pre></div>
</div>
<img alt="_images/1ae8cb0ff4c22862a7b858fba4c5b5e67d13e4bfb4feaf7cd168c7e0ffb0a783.png" src="_images/1ae8cb0ff4c22862a7b858fba4c5b5e67d13e4bfb4feaf7cd168c7e0ffb0a783.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ctd</span><span class="o">.</span><span class="n">density</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="s2">&quot;latitude&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;pressure&quot;</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x2b7235ca3dd0&gt;,
 &lt;matplotlib.lines.Line2D at 0x2b7235ca3790&gt;,
 &lt;matplotlib.lines.Line2D at 0x2b7235ca3f50&gt;,
 &lt;matplotlib.lines.Line2D at 0x2b7235ca3190&gt;,
 &lt;matplotlib.lines.Line2D at 0x2b7235ca3650&gt;,
 &lt;matplotlib.lines.Line2D at 0x2b7235ca3210&gt;,
 &lt;matplotlib.lines.Line2D at 0x2b7235ca3c90&gt;,
 &lt;matplotlib.lines.Line2D at 0x2b72356c26d0&gt;]
</pre></div>
</div>
<img alt="_images/ab7355d2d78a18469521391b7b99204724bb20b49d27608730716c57686b1501.png" src="_images/ab7355d2d78a18469521391b7b99204724bb20b49d27608730716c57686b1501.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">binned</span><span class="o">.</span><span class="n">S2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;latitude&quot;</span><span class="p">,</span> <span class="n">yincrease</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.QuadMesh at 0x2b7235740c10&gt;
</pre></div>
</div>
<img alt="_images/f25d216db86d3f06dfbe1800b83685bc15c8c0e46e5c9594eafd2a3bcc8d4e77.png" src="_images/f25d216db86d3f06dfbe1800b83685bc15c8c0e46e5c9594eafd2a3bcc8d4e77.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">binned</span><span class="o">.</span><span class="n">S2</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;nearest&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s2">&quot;depth&quot;</span><span class="p">,</span> <span class="n">yincrease</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x2b7235cd8450&gt;]
</pre></div>
</div>
<img alt="_images/0c017c18100b58275775d87b983c8951a9f848159d196ca1a7e002815043fb39.png" src="_images/0c017c18100b58275775d87b983c8951a9f848159d196ca1a7e002815043fb39.png" />
</div>
</div>
</section>
</section>
<section id="summary-plot-for-section">
<h2>summary plot for section<a class="headerlink" href="#summary-plot-for-section" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline

<span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">plot_section</span><span class="p">(</span><span class="n">ctd</span><span class="p">,</span> <span class="n">adcp</span><span class="p">,</span> <span class="n">binned</span><span class="p">,</span> <span class="n">oisst</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>skipping 3.5
skipping 4.5
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&lt;Figure size 1200x750 with 24 Axes&gt;,
 {&#39;sst&#39;: &lt;matplotlib.axes._subplots.AxesSubplot at 0x2b344cf82ad0&gt;,
  &#39;Ri&#39;: &lt;matplotlib.axes._subplots.AxesSubplot at 0x2b344cf86dd0&gt;,
  &#39;u&#39;: &lt;matplotlib.axes._subplots.AxesSubplot at 0x2b344cfb8990&gt;,
  &#39;v&#39;: &lt;matplotlib.axes._subplots.AxesSubplot at 0x2b344cf6c3d0&gt;,
  &#39;lats&#39;: [&lt;matplotlib.axes._subplots.AxesSubplot at 0x2b344cf53a50&gt;,
   &lt;matplotlib.axes._subplots.AxesSubplot at 0x2b344cfdc990&gt;,
   &lt;matplotlib.axes._subplots.AxesSubplot at 0x2b344d015a10&gt;,
   &lt;matplotlib.axes._subplots.AxesSubplot at 0x2b344d04ea50&gt;,
   &lt;matplotlib.axes._subplots.AxesSubplot at 0x2b344d0856d0&gt;,
   &lt;matplotlib.axes._subplots.AxesSubplot at 0x2b344d0bed90&gt;,
   &lt;matplotlib.axes._subplots.AxesSubplot at 0x2b344d0f7bd0&gt;,
   &lt;matplotlib.axes._subplots.AxesSubplot at 0x2b344d133cd0&gt;,
   &lt;matplotlib.axes._subplots.AxesSubplot at 0x2b344d16d7d0&gt;,
   &lt;matplotlib.axes._subplots.AxesSubplot at 0x2b344d1a6a90&gt;]})
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>distributed.comm.tcp - WARNING - Closing dangling stream in &lt;TCP  local=tcp://127.0.0.1:49730 remote=tcp://127.0.0.1:42035&gt;
distributed.comm.tcp - WARNING - Closing dangling stream in &lt;TCP  local=tcp://127.0.0.1:49732 remote=tcp://127.0.0.1:42035&gt;
distributed.comm.tcp - WARNING - Closing dangling stream in &lt;TCP  local=tcp://127.0.0.1:49736 remote=tcp://127.0.0.1:42035&gt;
distributed.comm.tcp - WARNING - Closing dangling stream in &lt;TCP  local=tcp://127.0.0.1:49744 remote=tcp://127.0.0.1:42035&gt;
distributed.comm.tcp - WARNING - Closing dangling stream in &lt;TCP  local=tcp://127.0.0.1:49748 remote=tcp://127.0.0.1:42035&gt;
distributed.comm.tcp - WARNING - Closing dangling stream in &lt;TCP  local=tcp://127.0.0.1:49750 remote=tcp://127.0.0.1:42035&gt;
</pre></div>
</div>
<img alt="_images/48cb23a683de930b914b778411b3df8c507d689fcb801a55e93f62e05fe0499c.png" src="_images/48cb23a683de930b914b778411b3df8c507d689fcb801a55e93f62e05fe0499c.png" />
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>distributed.comm.tcp - WARNING - Closing dangling stream in &lt;TCP  local=tcp://127.0.0.1:49756 remote=tcp://127.0.0.1:42035&gt;
distributed.comm.tcp - WARNING - Closing dangling stream in &lt;TCP  local=tcp://127.0.0.1:49758 remote=tcp://127.0.0.1:42035&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">plot_section</span><span class="p">(</span><span class="n">ctd</span><span class="p">,</span> <span class="n">adcp</span><span class="p">,</span> <span class="n">binned</span><span class="p">,</span> <span class="n">oisst</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/miniconda3/envs/dcpy_updated/lib/python3.7/site-packages/matplotlib/colors.py:1110: RuntimeWarning: invalid value encountered in less_equal
  mask |= resdat &lt;= 0
</pre></div>
</div>
<img alt="_images/0c835cfb746d441be3b10b04214424591073fa24d9c574c602ca097d38ecae4d.png" src="_images/0c835cfb746d441be3b10b04214424591073fa24d9c574c602ca097d38ecae4d.png" />
</div>
</div>
</section>
<section id="ladcp-test">
<h2>LADCP test<a class="headerlink" href="#ladcp-test" title="Permalink to this heading">#</a></h2>
<p>Test out using SADCP instead of LADCP. Probably not a good diea since LADCP seems to be too smooth</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ladcp</span><span class="p">[</span><span class="s2">&quot;EXTRA.PROFILE.v_shear_method&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">differentiate</span><span class="p">(</span><span class="s2">&quot;depth&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">depth</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="mi">150</span><span class="p">))</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;depth&quot;</span><span class="p">,</span> <span class="n">robust</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">yincrease</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.QuadMesh at 0x2acb6a860ed0&gt;
</pre></div>
</div>
<img alt="_images/4c98f7b9d113acf9598557df855199357d9ca4d3964f1d0d015c9173625d6ac5.png" src="_images/4c98f7b9d113acf9598557df855199357d9ca4d3964f1d0d015c9173625d6ac5.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ladcp</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="s2">&quot;../datasets/ladcp/33RO20071215_clivar_p18/*.nc&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="s2">&quot;depth&quot;</span><span class="p">,</span> <span class="s2">&quot;tim&quot;</span><span class="p">:</span> <span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="s2">&quot;lat&quot;</span><span class="p">:</span> <span class="s2">&quot;latitude&quot;</span><span class="p">,</span> <span class="s2">&quot;lon&quot;</span><span class="p">:</span> <span class="s2">&quot;longitude&quot;</span><span class="p">})</span>
    <span class="o">.</span><span class="n">set_coords</span><span class="p">([</span><span class="s2">&quot;latitude&quot;</span><span class="p">,</span> <span class="s2">&quot;longitude&quot;</span><span class="p">])</span>
<span class="p">)</span>

<span class="n">dates</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;-&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dd</span><span class="p">)</span> <span class="k">for</span> <span class="n">dd</span> <span class="ow">in</span> <span class="n">ladcp</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">values</span><span class="p">[:,</span> <span class="p">:</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;U&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="p">]</span>
<span class="n">times</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;:&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tt</span><span class="p">)</span> <span class="k">for</span> <span class="n">tt</span> <span class="ow">in</span> <span class="n">ladcp</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">values</span><span class="p">[:,</span> <span class="mi">3</span><span class="p">:]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;U2&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="p">]</span>
<span class="n">newtime</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">(</span>
    <span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">dd</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">tt</span><span class="p">)</span> <span class="k">for</span> <span class="n">dd</span><span class="p">,</span> <span class="n">tt</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">times</span><span class="p">)]</span>
<span class="p">)</span>
<span class="n">ladcp</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ladcp</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;weird_time&quot;</span><span class="p">})</span>
    <span class="o">.</span><span class="n">assign_coords</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;cast&quot;</span><span class="p">,</span> <span class="n">newtime</span><span class="p">))</span>
    <span class="o">.</span><span class="n">swap_dims</span><span class="p">({</span><span class="s2">&quot;cast&quot;</span><span class="p">:</span> <span class="s2">&quot;time&quot;</span><span class="p">})</span>
<span class="p">)</span>

<span class="n">ladcp</span><span class="o">.</span><span class="n">u</span><span class="o">.</span><span class="n">differentiate</span><span class="p">(</span><span class="s2">&quot;depth&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">depth</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="mi">150</span><span class="p">))</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">robust</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;latitude&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;depth&quot;</span><span class="p">,</span> <span class="n">yincrease</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/miniconda3/envs/dcpy_updated/lib/python3.7/site-packages/ipykernel_launcher.py:2: FutureWarning: In xarray version 0.15 the default behaviour of `open_mfdataset`
will change. To retain the existing behavior, pass
combine=&#39;nested&#39;. To use future default behavior, pass
combine=&#39;by_coords&#39;. See
http://xarray.pydata.org/en/stable/combining.html#combining-multi

  
/glade/u/home/dcherian/python/xarray/xarray/backends/api.py:941: FutureWarning: The datasets supplied have global dimension coordinates. You may want
to use the new `combine_by_coords` function (or the
`combine=&#39;by_coords&#39;` option to `open_mfdataset`) to order the datasets
before concatenation. Alternatively, to continue concatenating based
on the order the datasets are supplied in future, please use the new
`combine_nested` function (or the `combine=&#39;nested&#39;` option to
open_mfdataset).
  from_openmfds=True,
/glade/u/home/dcherian/python/xarray/xarray/plot/plot.py:1012: UserWarning: Attempted to set non-positive right xlim on a log-scaled axis.
Invalid limit will be ignored.
  ax.set_xlim(x[0], x[-1])
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.QuadMesh at 0x2acb7639b850&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">plot_section</span><span class="p">(</span><span class="n">ctd</span><span class="p">,</span> <span class="n">ladcp</span><span class="p">,</span> <span class="n">ladcp_binned</span><span class="p">,</span> <span class="n">oisst</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/miniconda3/envs/dcpy_updated/lib/python3.7/site-packages/dask/array/numpy_compat.py:40: RuntimeWarning: invalid value encountered in true_divide
  x = np.divide(x1, x2, out)
</pre></div>
</div>
<img alt="_images/8324024d82592015005fa3936355cdd0d76adc24de41d1177c7da41795e96c8d.png" src="_images/8324024d82592015005fa3936355cdd0d76adc24de41d1177c7da41795e96c8d.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ctd</span><span class="p">,</span> <span class="n">ladcp</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">trim_ctd_adcp</span><span class="p">(</span><span class="n">ctd</span><span class="p">,</span> <span class="n">ladcp</span><span class="p">)</span>
<span class="n">ladcp_binned</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">grid_ctd_adcp</span><span class="p">(</span><span class="n">ctd</span><span class="p">,</span> <span class="n">ladcp</span><span class="p">[[</span><span class="s2">&quot;u&quot;</span><span class="p">,</span> <span class="s2">&quot;v&quot;</span><span class="p">]])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">binned_l</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">grid_ctd_adcp</span><span class="p">(</span><span class="n">ctd</span><span class="p">,</span> <span class="n">ladcp</span><span class="p">)</span>
<span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">plot_section</span><span class="p">(</span><span class="n">ctd</span><span class="p">,</span> <span class="n">ladcp</span><span class="p">,</span> <span class="n">binned_l</span><span class="p">,</span> <span class="n">oisst</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
/glade/u/home/dcherian/miniconda3/envs/dcpy_updated/lib/python3.7/site-packages/dask/array/numpy_compat.py:40: RuntimeWarning: invalid value encountered in true_divide
  x = np.divide(x1, x2, out)
</pre></div>
</div>
<img alt="_images/66c30474022f5c6368af62cf65f634733b169cc3a6309b90acf68fe4f06bb5bc.png" src="_images/66c30474022f5c6368af62cf65f634733b169cc3a6309b90acf68fe4f06bb5bc.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ladcp</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;nearest&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">v</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;depth&quot;</span><span class="p">,</span> <span class="n">yincrease</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
<span class="n">adcp</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;nearest&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">v</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s2">&quot;depth&quot;</span><span class="p">,</span> <span class="n">yincrease</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="mi">140</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s2">&quot;ladcp&quot;</span><span class="p">,</span> <span class="s2">&quot;sadcp&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x2acb7c30bc50&gt;
</pre></div>
</div>
<img alt="_images/fdf55a31aedba1754cb487cde008375dd9db0ef8266d82f0aa8bb8cd577b3285.png" src="_images/fdf55a31aedba1754cb487cde008375dd9db0ef8266d82f0aa8bb8cd577b3285.png" />
</div>
</div>
<p>R.C. and Ryan think that LADCP is pretty smoothed because of CTD cage motion. R.C. would definitely pick SADCP shear over LADCP to capture finer scale</p>
</section>
<section id="save-section-images">
<h2>Save section images<a class="headerlink" href="#save-section-images" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">adcp_files</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;../datasets/adcp/31DSEP391_1_00299v3.nc&#39;,
 &#39;../datasets/adcp/31DSEP393_1_00210_short.nc&#39;,
 &#39;../datasets/adcp/31DSEP692_2_00295v3.nc&#39;,
 &#39;../datasets/adcp/33RB200311_1_RB0309_01032v3.nc&#39;,
 &#39;../datasets/adcp/33RB200411_1_00899v3.nc&#39;,
 &#39;../datasets/adcp/33RBGP602_1_00995v3.nc&#39;,
 &#39;../datasets/adcp/33RBGP801_1_01007v3.nc&#39;,
 &#39;../datasets/adcp/33RO20071215_rb0711_01079_short.nc&#39;,
 &#39;../datasets/adcp/33RO20161119_RB1606_02292v3.nc&#39;]
</pre></div>
</div>
</div>
</div>
<p>Test image</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="p">[</span><span class="n">adcp_files</span><span class="p">[</span><span class="mi">2</span><span class="p">]]:</span>
    <span class="n">expocode</span><span class="p">,</span> <span class="n">ctd</span><span class="p">,</span> <span class="n">adcp</span><span class="p">,</span> <span class="n">binned</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">process_adcp_file</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">expocode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">f</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">plot_section</span><span class="p">(</span><span class="n">ctd</span><span class="p">,</span> <span class="n">adcp</span><span class="p">,</span> <span class="n">binned</span><span class="p">,</span> <span class="n">oisst</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>31DSEP692
Found 31DSEP692 at index 10.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>skipping 1.5
skipping 3.5
skipping 4.5
</pre></div>
</div>
<img alt="_images/bacff3d7a7e413a55c5217f10fc4a8247eded0f7558e293850fc31d9f11e9a17.png" src="_images/bacff3d7a7e413a55c5217f10fc4a8247eded0f7558e293850fc31d9f11e9a17.png" />
</div>
</div>
<p>Loop through and save images</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline


<span class="n">adcp_files</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;../datasets/adcp/*.nc&quot;</span><span class="p">))</span>
<span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">adcp_files</span><span class="p">:</span>  <span class="c1"># [adcp_files[1]]:</span>
    <span class="n">expocode</span><span class="p">,</span> <span class="n">ctd</span><span class="p">,</span> <span class="n">adcp</span><span class="p">,</span> <span class="n">binned</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">process_adcp_file</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">expocode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">f</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">plot_section</span><span class="p">(</span><span class="n">ctd</span><span class="p">,</span> <span class="n">adcp</span><span class="p">,</span> <span class="n">binned</span><span class="p">,</span> <span class="n">oisst</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;../images/cruise-sections/</span><span class="si">{</span><span class="n">expocode</span><span class="si">}</span><span class="s2">.png&quot;</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s2">&quot;tight&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">200</span>
        <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>31DSEP391
Found 31DSEP391 at index 35.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>skipping 0.5
skipping 1
skipping 1.5
skipping 3
skipping 4
skipping 4.5
31DSEP393
Found 31DSEP393 at index 24.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>skipping 3.5
skipping 4.5
31DSEP692
Found 31DSEP692 at index 10.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>skipping 1.5
skipping 3.5
skipping 4.5
33RB200311
Found 33RB200311 at index 27.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>skipping 3.5
33RB200411
Found 33RB200411 at index 1.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>skipping 3.5
33RBGP602
Found 33RBGP602 at index 21.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>skipping 0.5
skipping 1.5
skipping 3.5
33RBGP801
Found 33RBGP801 at index 32.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>skipping 4.5
33RO20071215
Found 33RO20071215 at index 29.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>33RO20161119
Found 33RO20161119 at index 15.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
</pre></div>
</div>
<img alt="_images/881b36d10214d0d509f8fe5bac2fca30dc8f7cdf934f3a01a30c68dbfb391ed9.png" src="_images/881b36d10214d0d509f8fe5bac2fca30dc8f7cdf934f3a01a30c68dbfb391ed9.png" />
<img alt="_images/ae187cbd54d83e9c5f062bf3813baca2fd0a777572bdd9853dfd621b2351a9cf.png" src="_images/ae187cbd54d83e9c5f062bf3813baca2fd0a777572bdd9853dfd621b2351a9cf.png" />
<img alt="_images/973fa7962bd82c05686c6b91f6f5e5e4f80e0569e2a1f9452724320c0a5b14a9.png" src="_images/973fa7962bd82c05686c6b91f6f5e5e4f80e0569e2a1f9452724320c0a5b14a9.png" />
<img alt="_images/e6e059aeba00f1dde9829fe2a9e73262452a1c50659e92a3da9d8a0047e87a81.png" src="_images/e6e059aeba00f1dde9829fe2a9e73262452a1c50659e92a3da9d8a0047e87a81.png" />
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>distributed.comm.tcp - WARNING - Closing dangling stream in &lt;TCP  local=tcp://127.0.0.1:50026 remote=tcp://127.0.0.1:46013&gt;
</pre></div>
</div>
<img alt="_images/969c3906e0b8fdeae2ea59440b4f00080dce91c8e3d805d1c57f15b64176b295.png" src="_images/969c3906e0b8fdeae2ea59440b4f00080dce91c8e3d805d1c57f15b64176b295.png" />
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>distributed.comm.tcp - WARNING - Closing dangling stream in &lt;TCP  local=tcp://127.0.0.1:50200 remote=tcp://127.0.0.1:46013&gt;
</pre></div>
</div>
<img alt="_images/8d34f0494686c4e210fa35217edfc8d39be053cca56a7f4c18e9bf244cc31868.png" src="_images/8d34f0494686c4e210fa35217edfc8d39be053cca56a7f4c18e9bf244cc31868.png" />
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>distributed.comm.tcp - WARNING - Closing dangling stream in &lt;TCP  local=tcp://127.0.0.1:50422 remote=tcp://127.0.0.1:46013&gt;
</pre></div>
</div>
<img alt="_images/508cce6dd302728c1d8da7205bcd16540e71d059c50e7db2fd1c96f9d4d390eb.png" src="_images/508cce6dd302728c1d8da7205bcd16540e71d059c50e7db2fd1c96f9d4d390eb.png" />
<img alt="_images/44e8dece4ad76ef5a9b7180ca029028e4cca816911dda56fda358ba8e2bcec33.png" src="_images/44e8dece4ad76ef5a9b7180ca029028e4cca816911dda56fda358ba8e2bcec33.png" />
<img alt="_images/9945979205439738de48d73751a54a6816dfc54f30830a099afb3115082fd21c.png" src="_images/9945979205439738de48d73751a54a6816dfc54f30830a099afb3115082fd21c.png" />
</div>
</div>
</section>
<section id="tiw-dcl-paper-figure">
<h2>TIW DCL Paper figure<a class="headerlink" href="#tiw-dcl-paper-figure" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython</span> <span class="kn">import</span> <span class="n">display</span>

<span class="n">chosen_adcps</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">adcp_files</span><span class="p">)[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">]]</span>

<span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">chosen_adcps</span><span class="p">:</span>
    <span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="k">if</span> <span class="s2">&quot;cruise_sonar_summary&quot;</span> <span class="ow">in</span> <span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;cruise_sonar_summary&quot;</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">display</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=======================================</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;WOCE_Version&#39;: &#39;3.0&#39;,
 &#39;CONVENTIONS&#39;: &#39;COARDS/WOCE&#39;,
 &#39;DATA_TYPE&#39;: &#39;TRACK&#39;,
 &#39;DATA_SUB_TYPE&#39;: &#39;SADCP&#39;,
 &#39;INST_TYPE&#39;: &#39;SADCP&#39;,
 &#39;DATA_ORIGIN&#39;: &#39;               NOAA/PMEL; EARTH AND SPACE RESEARCH&#39;,
 &#39;EXPOCODE&#39;: &#39;31DSEP692_2 &#39;,
 &#39;WOCE_ID&#39;: &#39;PR16 &#39;,
 &#39;CRUISE_NAME&#39;: &#39;EP692&#39;,
 &#39;DAC_ID&#39;: &#39;00295&#39;,
 &#39;FILE_SOURCE&#39;: &#39;00295.sub&#39;,
 &#39;file_date&#39;: &#39;12 Apr 2002&#39;,
 &#39;TIME_INTERVAL_BETWEEN_DATA&#39;: &#39;hour&#39;,
 &#39;TIME_AVERAGING_SCHEME&#39;: &#39;mean centered on hour&#39;,
 &#39;DEPTH_INTERVAL_BETWEEN_DATA&#39;: &#39;10 meters&#39;,
 &#39;DEPTH_AVERAGING_SCHEME&#39;: &#39;mean centered on given depth&#39;,
 &#39;SHIP_POSITION&#39;: &#39;average over hour&#39;,
 &#39;doc_000&#39;: &#39;The following time, space, and depth ranges for this cruise&#39;,
 &#39;doc_001&#39;: &#39;are based on the complete high-resolution data set and does&#39;,
 &#39;doc_002&#39;: &#39;not agree exactly with the ranges of this averaged subset.&#39;,
 &#39;doc_003&#39;: &#39; #DATA_DATES: 1992/10/15 00:01:00 --- to --- 1992/11/19 23:26:00&#39;,
 &#39;doc_004&#39;: &#39; #LON_RANGE: 117.23 W --- to ---  80.87 W&#39;,
 &#39;doc_005&#39;: &#39; #LAT_RANGE:  10.00 S --- to ---  32.72 N&#39;,
 &#39;doc_006&#39;: &#39; #DEPTH_RANGE:     18 --- to --- 522 m&#39;,
 &#39;doc_007&#39;: &#39; #SAC_CRUISE_ID: 00295 &#39;,
 &#39;doc_008&#39;: &#39; #PLATFORM_NAME: R/V Discoverer&#39;,
 &#39;doc_009&#39;: &#39; #PRINCIPAL_INVESTIGATOR_NAME:  M.McPhaden and Eric Johnson&#39;,
 &#39;doc_010&#39;: &#39; #PI_INSTITUTION:               NOAA/PMEL; Earth and Space Research&#39;,
 &#39;doc_011&#39;: &#39; #PI_COUNTRY:                   USA&#39;,
 &#39;doc_012&#39;: &#39; #PROJECT: WOCE (Repeat Survey)&#39;,
 &#39;doc_013&#39;: &#39;           Tropical Atmosphere Ocean (TOGA/TAO) mooring cruises&#39;,
 &#39;doc_014&#39;: &#39; #CRUISE_NAME: ship_tag=ep692 woce_tag=PR16 EXPOCODE=31DSEP692_2&#39;,
 &#39;doc_015&#39;: &#39; #PORTS: Manzanillo, Mexico to San Diego California to Guayaquil, Ecuador&#39;,
 &#39;doc_016&#39;: &#39; #GEOGRAPHIC_REGION: tropical eastern Pacific&#39;,
 &#39;doc_017&#39;: &#39; #PROCESSED_BY: P.Plimpton (NOAA/PMEL) and Eric Johnson (Earth and &#39;,
 &#39;doc_018&#39;: &#39;                Space Research)&#39;,
 &#39;doc_019&#39;: &#39; #NAVIGATION: GPS                          &#39;,
 &#39;doc_020&#39;: &#39; #QUALITY_NAV: good&#39;,
 &#39;doc_021&#39;: &#39; #GENERAL_INFORMATION: &#39;,
 &#39;doc_022&#39;: &#39;CRUISE NOTES&#39;,
 &#39;doc_023&#39;: &#39;  CHIEF SCIENTIST ON SHIP     : unconfirmed&#39;,
 &#39;doc_024&#39;: &#39;    INSTITUTE                 : NOAA/PMEL&#39;,
 &#39;doc_025&#39;: &#39;    COUNTRY                   : USA&#39;,
 &#39;doc_026&#39;: &#39;  SIGNIFICANT DATA GAPS       : ADCP gap on days 291-300&#39;,
 &#39;doc_027&#39;: &#39;  SPECIAL SHIP TRACK PATTERNS :&#39;,
 &#39;doc_028&#39;: &#39;  COMMENTS                    :&#39;,
 &#39;doc_029&#39;: &#39;&#39;,
 &#39;doc_030&#39;: &#39;ADCP INSTRUMENTATION&#39;,
 &#39;doc_031&#39;: &#39;  MANUFACTURER                : RDI&#39;,
 &#39;doc_032&#39;: &#39;  HARDWARE MODEL              : VM-150&#39;,
 &#39;doc_033&#39;: &#39;  SERIAL NUMBERS              :  &#39;,
 &#39;doc_034&#39;: &#39;  FIRMWARE VERSION            :  &#39;,
 &#39;doc_035&#39;: &#39;  TRANSMIT FREQUENCY          : 153 KHz&#39;,
 &#39;doc_036&#39;: &#39;  TRANSDUCER CONFIGURATION    : JANUS CONCAVE&#39;,
 &#39;doc_037&#39;: &#39;  ACOUSTIC BEAM WIDTH         :  &#39;,
 &#39;doc_038&#39;: &#39;  TRANSDUCER BEAM ANGLE       : 30 deg&#39;,
 &#39;doc_039&#39;: &#39;  COMMENTS                    :  &#39;,
 &#39;doc_040&#39;: &#39; &#39;,
 &#39;doc_041&#39;: &#39;ADCP INSTALLATION&#39;,
 &#39;doc_042&#39;: &#39;  METHOD/DESCRIPTION OF THE&#39;,
 &#39;doc_043&#39;: &#39;    ATTACHMENT TO THE HULL    : The ADCP transducer is in a steel housing that is&#39;,
 &#39;doc_044&#39;: &#39;         welded to the hull.  The transducer itself fits in the housing with the&#39;,
 &#39;doc_045&#39;: &#39;         transducer array parallel to bottom of the steel housing.  We can remove&#39;,
 &#39;doc_046&#39;: &#39;         the transducer by bolting a steel plate on the bottom of the housing&#39;,
 &#39;doc_047&#39;: &#39;         (to keep water out of the ship when the transducer is removed) and then&#39;,
 &#39;doc_048&#39;: &#39;         from the inside of the ship, unbolt the upper plate and pull the transduce&#39;,
 &#39;doc_049&#39;: &#39;&#39;,
 &#39;doc_050&#39;: &#39;         up inside the ship.&#39;,
 &#39;doc_051&#39;: &#39;  LOCATION/DEPTH ON HULL      : The ADCP transducer is located at approx. Frame 50.&#39;,
 &#39;doc_052&#39;: &quot;         The depth below the water line is approx. 18 to 19&#39; depending on ship load&quot;,
 &#39;doc_053&#39;: &#39;&#39;,
 &#39;doc_054&#39;: &#39;  REPEATABLE ATTACHMENT       : YES&#39;,
 &#39;doc_055&#39;: &#39;  DATE OF MOST RECENT ATTACH. :&#39;,
 &#39;doc_056&#39;: &#39;  ACOUSTIC WINDOW             : There is no acoustic window over the face to the&#39;,
 &#39;doc_057&#39;: &#39;                                transducer array.  It is free flooding.&#39;,
 &#39;doc_058&#39;: &#39;  COMMENTS                    : &#39;,
 &#39;doc_059&#39;: &#39;&#39;,
 &#39;doc_060&#39;: &#39;ADCP INSTRUMENT CONFIGURATION     &#39;,
 &#39;doc_061&#39;: &#39;  DEPTH RANGE                 : 18 to 522 m&#39;,
 &#39;doc_062&#39;: &#39;  BIN LENGTH                  : 8 m&#39;,
 &#39;doc_063&#39;: &#39;  NUMBER OF BINS              : 64&#39;,
 &#39;doc_064&#39;: &#39;  TRANSMIT PULSE LENGTH       : 8 m&#39;,
 &#39;doc_065&#39;: &#39;  BLANKING INTERVAL           : 4 m&#39;,
 &#39;doc_066&#39;: &#39;  ENSEMBLE AVERAGING INTERVAL : 60 s&#39;,
 &#39;doc_067&#39;: &#39;  SOUND SPEED CALCULATION     : FUNCTION OF TEMP AT TRANSDUCER&#39;,
 &#39;doc_068&#39;: &#39;  BOTTOM TRACKING             : at times&#39;,
 &#39;doc_069&#39;: &#39;  DIRECT COMMANDS             :&#39;,
 &#39;doc_070&#39;: &#39;  COMMENTS                    : &#39;,
 &#39;doc_071&#39;: &#39;&#39;,
 &#39;doc_072&#39;: &#39;ADCP DATA ACQUISITION SYSTEM&#39;,
 &#39;doc_073&#39;: &#39;  SOFTWARE DEVELOPERS         :  &#39;,
 &#39;doc_074&#39;: &#39;  SOFTWARE VERSIONS           : RDI DAS 2.48 &#39;,
 &#39;doc_075&#39;: &#39;  DATA LOGGER, MAKE/MODEL     :  &#39;,
 &#39;doc_076&#39;: &#39;  ADCP/LOGGER COMMUNICATION   : GPIB&#39;,
 &#39;doc_077&#39;: &#39;  USER BUFFER VERSION         : unconfirmed&#39;,
 &#39;doc_078&#39;: &#39;  CLOCK                       :  &#39;,
 &#39;doc_079&#39;: &#39;  COMMENTS                    : &#39;,
 &#39;doc_080&#39;: &#39;&#39;,
 &#39;doc_081&#39;: &#39;SHIP HEADING                      &#39;,
 &#39;doc_082&#39;: &#39;  INSTRUMENT MAKE/MODEL       : gyro-compass &#39;,
 &#39;doc_083&#39;: &#39;  SYNCHRO OR STEPPER          : synchro  &#39;,
 &#39;doc_084&#39;: &#39;  SYNCHRO RATIO               :  1:1&#39;,
 &#39;doc_085&#39;: &#39;  COMPENSATION APPLIED        :  &#39;,
 &#39;doc_086&#39;: &#39;  GPS ATTITUDE SYSTEM         : no&#39;,
 &#39;doc_087&#39;: &#39;    LOCATION OF ANTENNAS      : &#39;,
 &#39;doc_088&#39;: &#39;    RIGID ATTACHMENT          :&#39;,
 &#39;doc_089&#39;: &#39;    LOGGING RATE              : &#39;,
 &#39;doc_090&#39;: &#39;&#39;,
 &#39;doc_091&#39;: &#39;ANCILLARY MEASUREMENTS            &#39;,
 &#39;doc_092&#39;: &#39;  SURFACE TEMP AND SALINITY   : yes&#39;,
 &#39;doc_093&#39;: &#39;  PITCH/ROLL MEASUREMENTS     :&#39;,
 &#39;doc_094&#39;: &#39;  HYDRO CAST MEASUREMENTS     :&#39;,
 &#39;doc_095&#39;: &#39;  BIOMASS DETERMINATION       :&#39;,
 &#39;doc_096&#39;: &#39;    DATE OF LAST CALIBRATION  :&#39;,
 &#39;doc_097&#39;: &#39;    CALIBRATION COEFFICIENTS  :&#39;,
 &#39;doc_098&#39;: &#39;    BEAM-AVERAGED AGC AVAILABLE?: YES&#39;,
 &#39;doc_099&#39;: &#39;    CALIBRATION NET TOWS?     :   &lt; NO &gt; &lt; YES &gt;&#39;,
 &#39;doc_100&#39;: &#39;  COMMENTS                    :&#39;,
 &#39;doc_101&#39;: &#39;&#39;,
 &#39;doc_102&#39;: &#39;ADCP DATA PROCESSING/EDITING&#39;,
 &#39;doc_103&#39;: &#39;  PERSONNEL IN CHARGE         : T.Plimpton and Eric Johnson&#39;,
 &#39;doc_104&#39;: &#39;  DATE OF PROCESSING          : unconfirmed&#39;,
 &#39;doc_105&#39;: &#39;  ADDED TO NODC DB            : May 1999&#39;,
 &#39;doc_106&#39;: &#39;  NOTABLE SCATTERING LAYERS   :&#39;,
 &#39;doc_107&#39;: &#39;  SOUND SPEED CORRECTIONS     : YES&#39;,
 &#39;doc_108&#39;: &#39;  COMMENTS                    : &#39;,
 &#39;doc_109&#39;: &#39;Preparation of the PMEL data consists of three stages: the timing adjustment,&#39;,
 &#39;doc_110&#39;: &#39;the navigation of the data, and the calibration of the ADCP.  Time&#39;,
 &#39;doc_111&#39;: &#39;corrected with time marks from GPS system.  The measured relative velocities&#39;,
 &#39;doc_112&#39;: &#39;are corrected for the true speed of sound at the transducer using thermistor&#39;,
 &#39;doc_113&#39;: &#39;data and assuming salinity of 35 psu.  In situations where the thermistor&#39;,
 &#39;doc_114&#39;: &#39;was not working the speed of sound correction can not be carried out, but&#39;,
 &#39;doc_115&#39;: &#39;its cruise-averaged value and the broadest scales of its spatial variability&#39;,
 &#39;doc_116&#39;: &#39;are necessarily incorporated in the time-dependent instrument calibrations.&#39;,
 &#39;doc_117&#39;: &#39;Navigation data were edited to remove bad fixes.  &#39;,
 &#39;doc_118&#39;: &#39;&#39;,
 &#39;doc_119&#39;: &#39;The ADCP data has not been edited for noise caused by turbulence in the&#39;,
 &#39;doc_120&#39;: &#39;upper layers or interference from the CTD.  USERS MUST BE AWARE OF SUCH&#39;,
 &#39;doc_121&#39;: &#39;POTENTIAL LIMITATIONS AND TEST FOR THOSE THAT MIGHT AFFECT THEIR PARTICULAR&#39;,
 &#39;doc_122&#39;: &#39;APPLICATION.&#39;,
 &#39;doc_123&#39;: &#39;&#39;,
 &#39;doc_124&#39;: &#39;The data are archived in original depth bins rather than re-gridded, so&#39;,
 &#39;doc_125&#39;: &#39;depths are not corrected for the small (~2%) difference between nominal&#39;,
 &#39;doc_126&#39;: &#39;and local speed of sound.&#39;,
 &#39;doc_127&#39;: &#39;&#39;,
 &#39;doc_128&#39;: &#39;NAVIGATION&#39;,
 &#39;doc_129&#39;: &#39;  GPS                         : YES&#39;,
 &#39;doc_130&#39;: &#39;    MAKE/MODEL                : Magnavox MX4200&#39;,
 &#39;doc_131&#39;: &#39;    SELECTIVE AVAILABILITY    : YES&#39;,
 &#39;doc_132&#39;: &#39;    P-CODE                    : NO&#39;,
 &#39;doc_133&#39;: &#39;    DIFFERENTIAL              : NO&#39;,
 &#39;doc_134&#39;: &#39;    SAMPLE INTERVAL           : 1 sec&#39;,
 &#39;doc_135&#39;: &#39;    LOCATION OF ANTENNA&#39;,
 &#39;doc_136&#39;: &#39;      RELATIVE TO TRANSDUCER  :&#39;,
 &#39;doc_137&#39;: &#39;    TIME OBTAINED RELATIVE TO&#39;,
 &#39;doc_138&#39;: &#39;      START/END OF ENSEMBLE   : start and end&#39;,
 &#39;doc_139&#39;: &#39;    AVERAGING/EDITING APPLIED : none&#39;,
 &#39;doc_140&#39;: &#39;    LOGGED WITH ADCP DATA     : YES via UE3 user exit program&#39;,
 &#39;doc_141&#39;: &#39;    LOGGED INDEPENDENTLY      : undoubtedly by shipboard computer&#39;,
 &#39;doc_142&#39;: &#39;    COMMENTS                  :&#39;,
 &#39;doc_143&#39;: &#39;  OTHER                       : &#39;,
 &#39;doc_144&#39;: &#39;&#39;,
 &#39;doc_145&#39;: &#39;CALIBRATION &#39;,
 &#39;doc_146&#39;: &#39;    GYROCOMPASS CORRECTION      : Yes&#39;,
 &#39;doc_147&#39;: &#39;    BOTTOM TRACK METHOD         : Yes&#39;,
 &#39;doc_148&#39;: &#39;    WATER TRACK METHOD          : YES&#39;,
 &#39;doc_149&#39;: &#39;    FINAL SELECTION             : AMPLITUDE=1.0045     PHASE= 2.039 deg &#39;,
 &#39;doc_150&#39;: &#39;    AGREEMENT WITH PREVIOUS &#39;,
 &#39;doc_151&#39;: &#39;      CRUISES                   : &#39;,
 &#39;doc_152&#39;: &#39;    COMMENTS                    : &#39;,
 &#39;doc_153&#39;: &#39;The data are searched by computer for hour-long intervals containing large &#39;,
 &#39;doc_154&#39;: &quot;variations in ship&#39;s velocity.  These intervals are used to estimate the &quot;,
 &#39;doc_155&#39;: &#39;heading bias and gain error of the instrument as in Joyce, 1989.  The&#39;,
 &#39;doc_156&#39;: &#39;calibrations are editied for obvious outliers, filtered heavily in time to&#39;,
 &#39;doc_157&#39;: &#39;remove time scales shorter than 1.6 days, and fed back into a final,&#39;,
 &#39;doc_158&#39;: &#39;clean navigation of the data.&#39;,
 &#39;doc_159&#39;: &#39;&#39;,
 &#39;doc_160&#39;: &#39;NAVIGATION CALCULATION&#39;,
 &#39;doc_161&#39;: &#39;    NAVIGATION USED             : gps&#39;,
 &#39;doc_162&#39;: &#39;    REFERENCE LAYER DEPTH RANGE : 139 - 195 m&#39;,
 &#39;doc_163&#39;: &#39;    FILTERING METHOD FOR&#39;,
 &#39;doc_164&#39;: &#39;      SMOOTHING REFERENCE LAYER&#39;,
 &#39;doc_165&#39;: &#39;      VELOCITY (FORM/WIDTH)     : Time filtered long enough to eliminate &#39;,
 &#39;doc_166&#39;: &#39;          periods shorter than 2 hours (time scales shorter than 20 minutes).&#39;,
 &#39;doc_167&#39;: &#39;    FINALIZED SHIP VEL/POSITIONS&#39;,
 &#39;doc_168&#39;: &#39;    STORED IN DATABASE          : YES&#39;,
 &#39;doc_169&#39;: &#39;    COMMENTS                    : &#39;,
 &#39;doc_170&#39;: &#39;&#39;,
 &#39;doc_171&#39;: &#39; GENERAL_ASSESSMENT             : &#39;,
 &#39;doc_172&#39;: &#39;    VECTOR PLOTS                : ok&#39;,
 &#39;doc_173&#39;: &#39;    COMMENTS                    : ok&#39;,
 &#39;doc_174&#39;: &#39;&#39;,
 &#39;doc_175&#39;: &#39; REFERENCES (DATA REPORTS,ETC.) : &#39;,
 &#39;doc_176&#39;: &#39;Johnson, Eric and P.Plimpton, 1999.  TOGA/TAO Shipboard ADCP Data Report, 1991-1995&#39;,
 &#39;doc_177&#39;: &#39;&#39;,
 &#39;doc_178&#39;: &#39;  unpublished report available from&#39;,
 &#39;doc_179&#39;: &#39;&#39;,
 &#39;doc_180&#39;: &#39;Eric Johnson                 Patricia E. Plimpton&#39;,
 &#39;doc_181&#39;: &#39;Earth and Space Research     NOAA/PMEL&#39;,
 &#39;doc_182&#39;: &#39;1910 Fairview Ave. E.        7600 Sand Point Way NE, Bldg. 3&#39;,
 &#39;doc_183&#39;: &#39;Seattle, WA 98102            Seattle, WA 98115&#39;,
 &#39;doc_184&#39;: &#39;&#39;}
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=======================================

 #DATA_DATES: 1993/08/24 01:45:00 --- to --- 1993/09/18 16:08:00
 #LON_RANGE: 117.23 W --- to ---  94.88 W
 #LAT_RANGE:   8.05 S --- to ---  32.72 N
 #DEPTH_RANGE:     18 --- to --- 522 m
 #SAC_CRUISE_ID: 00210 
 #PLATFORM_NAME: R/V Discoverer
 #PRINCIPAL_INVESTIGATOR_NAME:  M.McPhaden and Eric Johnson
 #PI_INSTITUTION:               NOAA/PMEL; Earth and Space Research
 #PI_COUNTRY:                   USA
 #PROJECT: WOCE (Repeat Survey) 
           Tropical Atmosphere Ocean (TOGA/TAO) mooring cruises
 #CRUISE_NAME: ship_tag=ep393 woce_tag=PR16 EXPOCODE=31DSEP393  
 #PORTS: San Diego to San Diego
 #GEOGRAPHIC_REGION: E Pacific, tropical E Pacific
 #PROCESSED_BY: P.Plimpton (NOAA/PMEL) and Eric Johnson (Earth and 
                Space Research)
 #NAVIGATION: GPS                          
 #QUALITY_NAV: good
 #GENERAL_INFORMATION: 
CRUISE NOTES
  CHIEF SCIENTIST ON SHIP     : unconfirmed
    INSTITUTE                 : NOAA/PMEL
    COUNTRY                   : USA
  SIGNIFICANT DATA GAPS       : 
  SPECIAL SHIP TRACK PATTERNS :
  COMMENTS                    :

ADCP INSTRUMENTATION
  MANUFACTURER                : RDI
  HARDWARE MODEL              : VM-150
  SERIAL NUMBERS              :  
  FIRMWARE VERSION            :  
  TRANSMIT FREQUENCY          : 153 KHz
  TRANSDUCER CONFIGURATION    : JANUS CONCAVE
  ACOUSTIC BEAM WIDTH         :  
  TRANSDUCER BEAM ANGLE       : 30 deg
  COMMENTS                    :  
 
ADCP INSTALLATION
  METHOD/DESCRIPTION OF THE
    ATTACHMENT TO THE HULL    : The ADCP transducer is in a steel housing that is
         welded to the hull.  The transducer itself fits in the housing with the
         transducer array parallel to bottom of the steel housing.  We can remove
         the transducer by bolting a steel plate on the bottom of the housing
         (to keep water out of the ship when the transducer is removed) and then
         from the inside of the ship, unbolt the upper plate and pull the transducer
         up inside the ship.
  LOCATION/DEPTH ON HULL      : The ADCP transducer is located at approx. Frame 50.
         The depth below the water line is approx. 18 to 19&#39; depending on ship load.
  REPEATABLE ATTACHMENT       : YES
  DATE OF MOST RECENT ATTACH. :
  ACOUSTIC WINDOW             : There is no acoustic window over the face to the
                                transducer array.  It is free flooding.
  COMMENTS                    : 

ADCP INSTRUMENT CONFIGURATION     
  DEPTH RANGE                 : 18 to 522 m
  BIN LENGTH                  : 8 m
  NUMBER OF BINS              : 64
  TRANSMIT PULSE LENGTH       : 8 m
  BLANKING INTERVAL           : 4 m
  ENSEMBLE AVERAGING INTERVAL : 60 s
  SOUND SPEED CALCULATION     : FUNCTION OF TEMP AT TRANSDUCER
  BOTTOM TRACKING             : at times
  DIRECT COMMANDS             :
  COMMENTS                    : 

ADCP DATA ACQUISITION SYSTEM
  SOFTWARE DEVELOPERS         :  
  SOFTWARE VERSIONS           : RDI DAS 2.48 
  DATA LOGGER, MAKE/MODEL     :  
  ADCP/LOGGER COMMUNICATION   : GPIB
  USER BUFFER VERSION         : unconfirmed
  CLOCK                       :  
  COMMENTS                    : 

SHIP HEADING                      
  INSTRUMENT MAKE/MODEL       : gyro-compass 
  SYNCHRO OR STEPPER          : synchro  
  SYNCHRO RATIO               :  1:1
  COMPENSATION APPLIED        :  
  GPS ATTITUDE SYSTEM         : no
    LOCATION OF ANTENNAS      : 
    RIGID ATTACHMENT          : 
    LOGGING RATE              : 

ANCILLARY MEASUREMENTS            
  SURFACE TEMP AND SALINITY   : yes
  PITCH/ROLL MEASUREMENTS     :
  HYDRO CAST MEASUREMENTS     :
  BIOMASS DETERMINATION       :
    DATE OF LAST CALIBRATION  :
    CALIBRATION COEFFICIENTS  :
    BEAM-AVERAGED AGC AVAILABLE?: YES
    CALIBRATION NET TOWS?     :   &lt; NO &gt; &lt; YES &gt;
  COMMENTS                    :

ADCP DATA PROCESSING/EDITING
  PERSONNEL IN CHARGE         : T.Plimpton and Eric Johnson
  DATE OF PROCESSING          : unconfirmed
  ADDED TO NODC DB            : May 1999
  NOTABLE SCATTERING LAYERS   :
  SOUND SPEED CORRECTIONS     : Yes
  COMMENTS                    : 
Preparation of the PMEL data consists of three stages: the timing adjustment,
the navigation of the data, and the calibration of the ADCP.  Time
corrected with time marks from GPS system.  The measured relative velocities
are corrected for the true speed of sound at the transducer using thermistor
data and assuming salinity of 35 psu.  In situations where the thermistor
was not working the speed of sound correction can not be carried out, but
its cruise-averaged value and the broadest scales of its spatial variability
are necessarily incorporated in the time-dependent instrument calibrations.
Navigation data were edited to remove bad fixes.  

The ADCP data has not been edited for noise caused by turbulence in the
upper layers or interference from the CTD.  USERS MUST BE AWARE OF SUCH
POTENTIAL LIMITATIONS AND TEST FOR THOSE THAT MIGHT AFFECT THEIR PARTICULAR
APPLICATION.

The data are archived in original depth bins rather than re-gridded, so
depths are not corrected for the small (~2%) difference between nominal
and local speed of sound.

NAVIGATION
  GPS                         : YES
    MAKE/MODEL                : Magnavox MX4200
    SELECTIVE AVAILABILITY    : YES
    P-CODE                    : NO
    DIFFERENTIAL              : NO
    SAMPLE INTERVAL           : 1 sec
    LOCATION OF ANTENNA
      RELATIVE TO TRANSDUCER  :
    TIME OBTAINED RELATIVE TO
      START/END OF ENSEMBLE   : start and end
    AVERAGING/EDITING APPLIED : none
    LOGGED WITH ADCP DATA     : YES via UE3 user exit program
    LOGGED INDEPENDENTLY      : undoubtedly by shipboard computer
    COMMENTS                  :
  OTHER                       : 

CALIBRATION 
    GYROCOMPASS CORRECTION      : Yes
    BOTTOM TRACK METHOD         : Yes
    WATER TRACK METHOD          : YES
    FINAL SELECTION             : AMPLITUDE=1.0071     PHASE= 2.821 deg 
    AGREEMENT WITH PREVIOUS 
      CRUISES                   : 
    COMMENTS                    : 
The data are searched by computer for hour-long intervals containing large 
variations in ship&#39;s velocity.  These intervals are used to estimate the 
heading bias and gain error of the instrument as in Joyce, 1989.  The
calibrations are editied for obvious outliers, filtered heavily in time to
remove time scales shorter than 1.6 days, and fed back into a final,
clean navigation of the data.

NAVIGATION CALCULATION
    NAVIGATION USED             : gps
    REFERENCE LAYER DEPTH RANGE : 139 - 195 m
    FILTERING METHOD FOR
      SMOOTHING REFERENCE LAYER
      VELOCITY (FORM/WIDTH)     : Time filtered long enough to eliminate 
          periods shorter than 2 hours (time scales shorter than 20 minutes).
    FINALIZED SHIP VEL/POSITIONS
    STORED IN DATABASE          : YES
    COMMENTS                    : 

 GENERAL_ASSESSMENT             : 
    VECTOR PLOTS                : ok
    COMMENTS                    : ok

 REFERENCES (DATA REPORTS,ETC.) : 
Johnson, Eric and P.Plimpton, 1999.  TOGA/TAO Shipboard ADCP Data Report, 1991-1995.
  unpublished report available from

Eric Johnson                 Patricia E. Plimpton
Earth and Space Research     NOAA/PMEL
1910 Fairview Ave. E.        7600 Sand Point Way NE, Bldg. 3
Seattle, WA 98102            Seattle, WA 98115


=======================================

 #DATA_DATES: 2007/12/15 02:22:00 --- to --- 2008/01/18 19:06:00
 #LON_RANGE: 117.35 W --- to --- 103.00 W
 #LAT_RANGE:  28.08 S --- to ---  32.72 N
 #DEPTH_RANGE:     20 --- to --- 653 m
 #SAC_CRUISE_ID: 01079 
 #PLATFORM_NAME: R/V Ron Brown 
 #PRINCIPAL_INVESTIGATOR_NAME: Eric Firing, Jules Hummon
 #PI_INSTITUTION: University of Hawaii
 #PI_COUNTRY: USA   
 #PROJECT: CLIVAR Global Carbon Program;repeat of WOCE One-time Line
 #CRUISE_NAME: ship_tag=rb0711:os75bb woce_tag=P18N_2007:os75bb EXPOCODE=33RO200711
 #PORTS: San Diego CA to Easter Island (Chile)
 #GEOGRAPHIC_REGION: eastern tropical Pacific
 #PROCESSED_BY: Jules Hummon, University of Hawaii
 #NAVIGATION: Conventional gyro compass, mahrs
 #QUALITY_NAV:  &lt;good&gt;
 #GENERAL_INFORMATION: 
CRUISE NOTES
  CHIEF SCIENTIST ON SHIP       : John Bullister
    INSTITUTE                   : NOAA/PMEL
    COUNTRY                     : USA
  SIGNIFICANT DATA GAPS         : 
  SPECIAL SHIP TRACK PATTERNS   : none
  COMMENTS                      :

ADCP INSTRUMENTATION
    MANUFACTURER                : RDI
    HARDWARE MODEL              : Ocean Surveyor 75
    SERIAL NUMBERS              :
    FIRMWARE VERSION            :
    TRANSMIT FREQUENCY          : 75 kHz
    ACOUSTIC BEAM WIDTH         :
    TRANSDUCER BEAM ANGLE       :
    COMMENTS                    : ping type broadband from interleaved

ADCP INSTALLATION
  METHOD/DESCRIPTION OF THE
    ATTACHMENT TO THE HULL    : Position roughly midship on hull.
                                Bolted onto stand inside seachest.
  LOCATION/DEPTH ON HULL      : transducer depth nominally at 5m (19&#39;)
  REPEATABLE ATTACHMENT       : yes
  DATE OF MOST RECENT ATTACH. : 2005
  ACOUSTIC WINDOW             :  no
  COMMENTS                    : 

ADCP INSTRUMENT CONFIGURATION     
  DEPTH RANGE                 : 25 to 657 m
  BIN LENGTH                  : 8 m
  NUMBER OF BINS              : 80
  TRANSMIT PULSE LENGTH       : 8 m
  BLANKING INTERVAL           : 12 m
  ENSEMBLE AVERAGING INTERVAL : 300 s
  SOUND SPEED CALCULATION     : Function of transducer temperature 
  BOTTOM TRACKING             :
  DIRECT COMMANDS             :
  COMMENTS                    :

ADCP DATA ACQUISITION SYSTEM
  SOFTWARE DEVELOPERS         : UHDAS
  SOFTWARE VERSIONS           : 
  DATA LOGGER, MAKE/MODEL     : 
  ADCP/LOGGER COMMUNICATION   : 
  USER BUFFER VERSION         : none
  CLOCK                       : 
  COMMENTS                    : single-ping data files QC&#39;ed then averaged
                                by UHDAS
SHIP HEADING                      
  INSTRUMENT MAKE/MODEL       : Sperry Mark 37 gyro and 
                                a Sperry Mark 39 Mod 0 laser ring gyro
  SYNCHRO OR STEPPER          : synchro
  SYNCHRO RATIO               :
  COMPENSATION APPLIED        :
  GPS ATTITUDE SYSTEM         : Seatex Seapath 200
    LOCATION OF ANTENNAS      :  
    RIGID ATTACHMENT          : 
    LOGGING RATE              : 
  COMMENTS                    : The Mark 37 gyro relies on manual latitude 
and speed corrections, the Mark 39 gyro relies on automatic speed log corrections.
Also, TSS Mahrs used for heading correction.
    
ANCILLARY MEASUREMENTS
   SURFACE TEMP AND SALINITY    : yes
   PITCH/ROLL MEASUREMENTS      : yes or no
   HYDRO CAST MEASUREMENTS      : yes
   BIOMASS DETERMINATION        : no
   COMMENTS                     :

NAVIGATION
  GPS                         : Three primary - a Trimble Centurian P-code GPS, 
                                a Magnavox MX-200 GPS, 
                                and a Northstar 941x differential GPS
    MAKE/MODEL                :
    SELECTIVE AVAILABILITY    : 
    P-CODE                    : yes
    DIFFERENTIAL              : 
    SAMPLE INTERVAL           : 
    LOCATION OF ANTENNA
      RELATIVE TO TRANSDUCER  : 
                                    4 ft. 4 in. to starboard
                                    86 ft. 7 in. aft
                                    59 ft. 9 in. vertical
                                    this is the p-code gps antenna 
    TIME OBTAINED RELATIVE TO
      START/END OF ENSEMBLE   : start and end of ensemble
    AVERAGING/EDITING APPLIED : ensemble position is average of end of present
                                ensemble and start of following ensemble
    LOGGED WITH ADCP DATA     : yes
    LOGGED INDEPENDENTLY      : yes
    COMMENTS                  :
  OTHER                       :
ADCP DATA PROCESSING/EDITING
    PERSONNEL IN CHARGE         : Jules Hummon
    DATE OF PROCESSING          : 
    ADDED TO NODC DB            : May 2008
    SOUND SPEED CORRECTIONS     :
    NOTABLE SCATTERING LAYERS   :
    COMMENTS :        poor scattering in suptropics,
                      strong scattering layers especially equatorward

CALIBRATION
    GYROCOMPASS CORRECTION      : YES referencing to Mahrs
    WATER TRACK METHOD          : Yes
    BOTTOM TRACK METHOD         : No 
    FINAL SELECTION             : AMPLITUDE=   1.000   PHASE= 0.17 deg
    AGREEMENT WITH PREVIOUS
      CRUISES                   : OK
    COMMENTS                    : original heading alignment: 22.0

NAVIGATION CALCULATION             
    NAVIGATION USED             : GPS 
    REFERENCE LAYER DEPTH RANGE : bins 2 to 20
    FILTERING METHOD FOR 
      SMOOTHING REFERENCE LAYER 
      VELOCITY (FORM/WIDTH)     : Blackman window function of width T ( .5 hr):
         w(t) = 0.42 - 0.5 * cos(2 * pi *t / T) + 0.08 * cos(4 * pi * t / T).
    FINALIZED SHIP VEL/POSITIONS 
    STORED IN DATABASE          : YES
    COMMENTS                    :  

REFERENCES (DATA REPORTS,ETC)   : 


=======================================
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">oisst</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="s2">&quot;1992-10-15&quot;</span><span class="p">,</span> <span class="s2">&quot;1992-11-19&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">col</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="n">col_wrap</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">robust</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;xarray.plot.facetgrid.FacetGrid at 0x2ac99ea8c630&gt;
</pre></div>
</div>
<img alt="_images/0c612b06342deca2c874149746c4dcb65e2bb929927dc9dc4674399d5305a0bc.png" src="_images/0c612b06342deca2c874149746c4dcb65e2bb929927dc9dc4674399d5305a0bc.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">?</span>pump.sections.process_adcp_file
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Red">Signature:</span> pump<span class=" -Color -Color-Blue">.</span>sections<span class=" -Color -Color-Blue">.</span>process_adcp_file<span class=" -Color -Color-Blue">(</span>adcp_file<span class=" -Color -Color-Blue">:</span> str<span class=" -Color -Color-Blue">)</span>
<span class=" -Color -Color-Red">Docstring:</span> processes an adcp adcp_file; finds matching CTD section. 
<span class=" -Color -Color-Red">File:</span>      ~/pump/pump/sections.py
<span class=" -Color -Color-Red">Type:</span>      function
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">dask</span>
<span class="kn">import</span> <span class="nn">os</span>


<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;font.size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">11</span>

<span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span>
    <span class="mi">3</span><span class="p">,</span>
    <span class="mi">3</span><span class="p">,</span>
    <span class="n">gridspec_kw</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">width_ratios</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
    <span class="c1"># sharex=&quot;col&quot;,</span>
    <span class="n">sharey</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="p">,</span>
    <span class="n">constrained_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">expected_lat</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">axrho</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">lats</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span>
    <span class="nb">zip</span><span class="p">(</span>
        <span class="n">chosen_adcps</span><span class="p">,</span>
        <span class="p">[</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
        <span class="p">],</span>
    <span class="p">)</span>
<span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="n">expocode</span><span class="p">,</span> <span class="n">ctd</span><span class="p">,</span> <span class="n">adcp</span><span class="p">,</span> <span class="n">binned</span> <span class="o">=</span> <span class="n">dask</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span>
        <span class="o">*</span><span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">process_adcp_file</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">cruises</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">axx</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">axx</span><span class="p">[</span><span class="s2">&quot;sst&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">axx</span><span class="p">[</span><span class="s2">&quot;lats&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">:]</span>

    <span class="n">axrho</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">plot_row</span><span class="p">(</span><span class="n">ctd</span><span class="p">,</span> <span class="n">adcp</span><span class="p">,</span> <span class="n">binned</span><span class="p">,</span> <span class="n">oisst</span><span class="p">,</span> <span class="n">axx</span><span class="p">,</span> <span class="n">lats</span><span class="p">))</span>

<span class="p">[</span><span class="n">axx</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">axx</span> <span class="ow">in</span> <span class="n">ax</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">flat</span><span class="p">]</span>
<span class="p">[</span><span class="n">aa</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span> <span class="k">for</span> <span class="n">aa</span> <span class="ow">in</span> <span class="n">ax</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]]</span>
<span class="p">[</span><span class="n">dcpy</span><span class="o">.</span><span class="n">plots</span><span class="o">.</span><span class="n">lat_lon_ticks</span><span class="p">(</span><span class="n">aa</span><span class="p">)</span> <span class="k">for</span> <span class="n">aa</span> <span class="ow">in</span> <span class="n">ax</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]]</span>

<span class="n">dcpy</span><span class="o">.</span><span class="n">plots</span><span class="o">.</span><span class="n">label_subplots</span><span class="p">(</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">flat</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;EP692&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;EP393&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;RB0711&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;SST&quot;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">((</span><span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
<span class="n">f</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;images/cruise-Ri-summary.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>../datasets/adcp/31DSEP692_2_00295v3.nc
31DSEP692
Found 31DSEP692 at index 10.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/miniconda3/envs/dcpy/lib/python3.8/site-packages/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;1992-11-02T00:40:00.000000000&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/miniconda3/envs/dcpy/lib/python3.8/site-packages/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
/glade/u/home/dcherian/miniconda3/envs/dcpy/lib/python3.8/site-packages/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>../datasets/adcp/31DSEP393_1_00210_short.nc
31DSEP393
Found 31DSEP393 at index 24.
[&#39;1993-09-12T05:41:00.000000000&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/miniconda3/envs/dcpy/lib/python3.8/site-packages/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
/glade/u/home/dcherian/miniconda3/envs/dcpy/lib/python3.8/site-packages/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>../datasets/adcp/33RO20071215_rb0711_01079_short.nc
33RO20071215
Found 33RO20071215 at index 29.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/miniconda3/envs/dcpy/lib/python3.8/site-packages/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;2007-12-26T11:13:00.000000000&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/miniconda3/envs/dcpy/lib/python3.8/site-packages/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
/glade/u/home/dcherian/miniconda3/envs/dcpy/lib/python3.8/site-packages/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
/glade/u/home/dcherian/python/dcpy/dcpy/plots.py:968: UserWarning: FixedFormatter should only be used together with FixedLocator
  ax.set_xlabel(&quot;&quot;)
</pre></div>
</div>
<img alt="_images/7654bf62421fd4e4252d8f36a87a3fc1d968b183f403e5f3985d524c5b3958cd.png" src="_images/7654bf62421fd4e4252d8f36a87a3fc1d968b183f403e5f3985d524c5b3958cd.png" />
</div>
</div>
</section>
<section id="osm20-figure">
<h2>OSM20 figure<a class="headerlink" href="#osm20-figure" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">expocode</span><span class="p">,</span> <span class="n">ctd</span><span class="p">,</span> <span class="n">adcp</span><span class="p">,</span> <span class="n">binned</span> <span class="o">=</span> <span class="n">process_file</span><span class="p">(</span><span class="n">adcp_files</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>31DSEP393
Found 31DSEP393 at index 24.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">oisst</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="s2">&quot;1993-&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">robust</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">mpl</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">RdYlBu_r</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.QuadMesh at 0x2b7c3af51890&gt;
</pre></div>
</div>
<img alt="_images/a1ad56b9e18b262929621e952fc206381da0f011fed1fb48abaa70348c0f64c8.png" src="_images/a1ad56b9e18b262929621e952fc206381da0f011fed1fb48abaa70348c0f64c8.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">oisst</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span>
    <span class="n">time</span><span class="o">=</span><span class="n">ctd</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;nearest&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;nearest&quot;</span>
<span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="n">mpl</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">RdYlBu_r</span><span class="p">,</span> <span class="n">robust</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.QuadMesh at 0x2b7c340f7350&gt;
</pre></div>
</div>
<img alt="_images/1d2dea553e40f1d8f9b4d8dec32dea09d0c49960b839de3d77c8d417b5305779.png" src="_images/1d2dea553e40f1d8f9b4d8dec32dea09d0c49960b839de3d77c8d417b5305779.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline

<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;font.size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">14</span>

<span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span>
    <span class="mi">3</span><span class="p">,</span>
    <span class="mi">3</span><span class="p">,</span>
    <span class="n">gridspec_kw</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">width_ratios</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
    <span class="c1"># sharex=&quot;col&quot;,</span>
    <span class="n">sharey</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="p">,</span>
    <span class="n">constrained_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">expected_lat</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>

<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">lats</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span>
    <span class="nb">zip</span><span class="p">(</span>
        <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">adcp_files</span><span class="p">)[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">]],</span>
        <span class="p">[</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
        <span class="p">],</span>
    <span class="p">)</span>
<span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="n">expocode</span><span class="p">,</span> <span class="n">ctd</span><span class="p">,</span> <span class="n">adcp</span><span class="p">,</span> <span class="n">binned</span> <span class="o">=</span> <span class="n">process_file</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="n">axx</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">axx</span><span class="p">[</span><span class="s2">&quot;sst&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">axx</span><span class="p">[</span><span class="s2">&quot;lats&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">:]</span>

    <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">plot_row</span><span class="p">(</span><span class="n">ctd</span><span class="p">,</span> <span class="n">adcp</span><span class="p">,</span> <span class="n">binned</span><span class="p">,</span> <span class="n">oisst</span><span class="p">,</span> <span class="n">axx</span><span class="p">,</span> <span class="n">lats</span><span class="p">)</span>

<span class="p">[</span><span class="n">axx</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">axx</span> <span class="ow">in</span> <span class="n">ax</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">flat</span><span class="p">]</span>
<span class="n">f</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">((</span><span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
<span class="c1"># f.savefig(&quot;cruise-Ri-summary.png&quot;)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>../datasets/adcp/31DSEP692_2_00295v3.nc
31DSEP692
Found 31DSEP692 at index 10.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>../datasets/adcp/31DSEP393_1_00210_short.nc
31DSEP393
Found 31DSEP393 at index 24.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>../datasets/adcp/33RO20071215_rb0711_01079_short.nc
33RO20071215
Found 33RO20071215 at index 29.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
</pre></div>
</div>
<img alt="_images/3df9d09e525b3b4af3e1100d3e0678554376e0d6a96dfb93ca1942ad50e89677.png" src="_images/3df9d09e525b3b4af3e1100d3e0678554376e0d6a96dfb93ca1942ad50e89677.png" />
</div>
</div>
</section>
<section id="debug-particular-sections">
<h2>debug particular sections<a class="headerlink" href="#debug-particular-sections" title="Permalink to this heading">#</a></h2>
<section id="clivar-p18-2007">
<h3>CLIVAR P18 2007<a class="headerlink" href="#clivar-p18-2007" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">file</span> <span class="o">=</span> <span class="s2">&quot;../datasets/adcp/33RO20071215_rb0711_01079_short.nc&quot;</span>
<span class="n">expocode</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">file</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="n">ctd</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">find_cruise</span><span class="p">(</span><span class="n">cruises</span><span class="p">,</span> <span class="n">expocode</span><span class="p">)</span>
<span class="n">adcp</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">read_adcp</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="o">-</span><span class="mi">110</span><span class="p">)</span>
<span class="n">ctd</span> <span class="o">=</span> <span class="n">ctd</span><span class="o">.</span><span class="n">sortby</span><span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">)</span>
<span class="n">ctd</span><span class="p">,</span> <span class="n">adcp</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">trim_ctd_adcp</span><span class="p">(</span><span class="n">ctd</span><span class="p">,</span> <span class="n">adcp</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Found 33RO20071215 at index 29.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">binned</span><span class="o">.</span><span class="n">N2</span><span class="o">.</span><span class="n">sortby</span><span class="p">(</span><span class="s2">&quot;latitude&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">depth</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">line</span><span class="p">(</span>
    <span class="n">col</span><span class="o">=</span><span class="s2">&quot;latitude&quot;</span><span class="p">,</span> <span class="n">col_wrap</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;depth&quot;</span><span class="p">,</span> <span class="n">xscale</span><span class="o">=</span><span class="s2">&quot;log&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;xarray.plot.facetgrid.FacetGrid at 0x2adf746cbad0&gt;
</pre></div>
</div>
<img alt="_images/253ae4f30c2a247109a035d2074c6f13fb3e7d576c0a15d7f4f9105460a2b207.png" src="_images/253ae4f30c2a247109a035d2074c6f13fb3e7d576c0a15d7f4f9105460a2b207.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">binned</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">grid_ctd_adcp</span><span class="p">(</span><span class="n">ctd</span><span class="p">,</span> <span class="n">adcp</span><span class="p">)</span>
<span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">pump</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">plot_section</span><span class="p">(</span><span class="n">ctd</span><span class="p">,</span> <span class="n">adcp</span><span class="p">,</span> <span class="n">binned</span><span class="p">,</span> <span class="n">oisst</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/python/xarray/xarray/core/nanops.py:142: RuntimeWarning: Mean of empty slice
  return np.nanmean(a, axis=axis, dtype=dtype)
</pre></div>
</div>
<img alt="_images/8b120b749dd00cc2b959748e0e39eb20892116cff9eda33099e13e312fb982a8.png" src="_images/8b120b749dd00cc2b959748e0e39eb20892116cff9eda33099e13e312fb982a8.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;../images/cruise-sections/33RO20071215.png&quot;</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s2">&quot;tight&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="discoverer-ep391">
<h3>Discoverer EP391<a class="headerlink" href="#discoverer-ep391" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># _, ctd, adcp, binned = process_file(adcp_files[0])</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">plot_section</span><span class="p">(</span><span class="n">ctd</span><span class="p">,</span> <span class="n">adcp</span><span class="p">,</span> <span class="n">binned</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/u/home/dcherian/miniconda3/envs/dcpy_updated/lib/python3.7/site-packages/matplotlib/colors.py:1110: RuntimeWarning: invalid value encountered in less_equal
  mask |= resdat &lt;= 0
</pre></div>
</div>
<img alt="_images/4c25077d3f3f22ff4af1be163d1d89b0eb9fb90b8c028c624b78c5854afd92c3.png" src="_images/4c25077d3f3f22ff4af1be163d1d89b0eb9fb90b8c028c624b78c5854afd92c3.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">adcp</span><span class="o">.</span><span class="n">u</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="n">robust</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.QuadMesh at 0x2b7232572d10&gt;
</pre></div>
</div>
<img alt="_images/8262f5f32c269dcfdece9fcda950ba1da483c8d38d4ca89387b0114db343bf77.png" src="_images/8262f5f32c269dcfdece9fcda950ba1da483c8d38d4ca89387b0114db343bf77.png" />
</div>
</div>
</section>
</section>
<section id="test-plots">
<h2>test plots<a class="headerlink" href="#test-plots" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">binned</span><span class="o">.</span><span class="n">Ri</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;depth&quot;</span><span class="p">,</span> <span class="n">yincrease</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="n">mpl</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">LogNorm</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">cmap</span><span class="o">=</span><span class="n">mpl</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Blues</span>
<span class="p">)</span>
<span class="n">adcp</span><span class="o">.</span><span class="n">u</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s2">&quot;depth&quot;</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">levels</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.contour.QuadContourSet at 0x2aadd5ae2850&gt;
</pre></div>
</div>
<img alt="_images/5e9e393f0b41a1736eaa0dd6f1796d9de7d43534bf4282b41032cf1ed515e3e7.png" src="_images/5e9e393f0b41a1736eaa0dd6f1796d9de7d43534bf4282b41032cf1ed515e3e7.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fg</span> <span class="o">=</span> <span class="n">binned</span><span class="o">.</span><span class="n">Ri</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">latitude</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">col</span><span class="o">=</span><span class="s2">&quot;latitude&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;depth&quot;</span><span class="p">,</span>
    <span class="n">xscale</span><span class="o">=</span><span class="s2">&quot;log&quot;</span><span class="p">,</span>
    <span class="n">yincrease</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
    <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="n">aspect</span><span class="o">=</span><span class="mi">1</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">)</span>
<span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">fg</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">flat</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x2b723679a490&gt;,
 &lt;matplotlib.lines.Line2D at 0x2b7236f16a10&gt;,
 &lt;matplotlib.lines.Line2D at 0x2b7236f1e750&gt;,
 &lt;matplotlib.lines.Line2D at 0x2b7236f1efd0&gt;,
 &lt;matplotlib.lines.Line2D at 0x2b7236f2b490&gt;,
 &lt;matplotlib.lines.Line2D at 0x2b7236f1e6d0&gt;,
 &lt;matplotlib.lines.Line2D at 0x2b7236f16210&gt;,
 &lt;matplotlib.lines.Line2D at 0x2b7236f06290&gt;]
</pre></div>
</div>
<img alt="_images/9e713e45431bd70a766aa1f6bd39f213db53c99227f7505cd7caa4d38bf1b629.png" src="_images/9e713e45431bd70a766aa1f6bd39f213db53c99227f7505cd7caa4d38bf1b629.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">adcp</span><span class="o">.</span><span class="n">v</span><span class="o">.</span><span class="n">differentiate</span><span class="p">(</span><span class="s2">&quot;depth&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;depth&quot;</span><span class="p">,</span> <span class="n">yincrease</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">robust</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.QuadMesh at 0x2b8b1ad84be0&gt;
</pre></div>
</div>
<img alt="_images/bc31197fbd62756fba11d3e63ac0c500e979520a862e3e32a5c9d91a26eda0dd.png" src="_images/bc31197fbd62756fba11d3e63ac0c500e979520a862e3e32a5c9d91a26eda0dd.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="dcl-paper.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">TIW DCL Paper Figures</p>
      </div>
    </a>
    <a class="right-next"
       href="TIW-compositing.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">TIW Compositing</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#todo">TODO</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#read-all-data">Read all data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ctd">CTD</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mld-computation">MLD computation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adcp">ADCP</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#processing">processing</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-plot-for-section">summary plot for section</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ladcp-test">LADCP test</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#save-section-images">Save section images</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tiw-dcl-paper-figure">TIW DCL Paper figure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#osm20-figure">OSM20 figure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#debug-particular-sections">debug particular sections</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#clivar-p18-2007">CLIVAR P18 2007</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#discoverer-ep391">Discoverer EP391</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#test-plots">test plots</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Deepak Cherian
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <div>
<script data-goatcounter="https://count.cherian.net/count"
        async src="count.js"></script>
</div>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>